"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(o=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&u.return&&u.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=function(){function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}}();function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function i(a,u,s){function d(e,t){if(!u[e]){if(!a[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(c)return c(e,!0);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}var r=u[e]={exports:{}};a[e][0].call(r.exports,function(t){return d(a[e][1][t]||t)},r,r.exports,i,a,u,s)}return u[e].exports}for(var c="function"==typeof require&&require,t=0;t<s.length;t++)d(s[t]);return d}({1:[function(t,e,n){var P=this&&this.__awaiter||function(t,a,u,s){return new(u=u||Promise)(function(n,e){function o(t){try{i(s.next(t))}catch(t){e(t)}}function r(t){try{i(s.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?n(t.value):((e=t.value)instanceof u?e:new u(function(t){t(e)})).then(o,r)}i((s=s.apply(t,a||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});var C=t("../utils/utils"),f=t("../config/config"),o=(c(r,[{key:"get",value:function(){var a=this;C.default.outPutLog(this.outputTextarea,"当你看到这行文字时，说明你还没有配置好浏览器UA或者还没有登录京东帐号！"),Promise.all([C.default.request("stall_getHomeData"),new Promise(function(t){setTimeout(function(){C.default.request("stall_getTaskDetail").then(t)},1e3)})]).then(function(t){var e=u(t,2),n=e[0],o=e[1];return Promise.all([n,o])}).then(function(t){var e=u(t,2),n=e[0],o=e[1];if(a.secretp=n.data.result.homeMainInfo.secretp,a.data=o.data.result,a.data){a.taskVos=a.data.taskVos;for(var r="",i=0;i<a.data.taskVos.length;i++)r+="\n"+a.taskVos[i].taskName+"："+(2==a.data.taskVos[1].status?"已完成":"未完成")+"("+a.taskVos[i].times+"/"+a.taskVos[i].maxTimes+")";C.default.outPutLog(a.outputTextarea,r,!0,!0),a.list()}})}},{key:"updateTask",value:function(){var r=this;return new Promise(function(o){C.default.request("stall_getTaskDetail").then(function(t){if(r.data=t.data.result,r.data){r.taskVos=r.data.taskVos;for(var e="任务数据更新成功",n=0;n<r.data.taskVos.length;n++)e+="\n"+r.taskVos[n].taskName+"："+(2==r.data.taskVos[1].status?"已完成":"未完成")+"("+r.taskVos[n].times+"/"+r.taskVos[n].maxTimes+")";C.default.outPutLog(r.outputTextarea,e)}o()}).catch(function(){C.default.outPutLog(r.outputTextarea,"数据获取失败，请稍后再试")})})}},{key:"list",value:function(){var e=this,t=C._$("#UATipsDiv");this.container&&t&&this.container.removeChild(t);var n=document.createElement("div");n.innerHTML='\n        <div style="margin:10px;">\n        <button class="help" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">帮作者助力</button>\n        <button class="helpGroup" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">帮助作者商圈助力</button>\n        <button class="invite" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">获取助力链接</button>\n        <input class="inviteLink" type="text" style="width:80vw;height: 25px;font-size:14px;border: solid 1px #000;border-radius: 5px;margin: 10px auto;display: block;" placeholder="请输入需要助力的分享链接">\n        <button class="assist" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">为TA助力</button>\n        <button class="group" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">获取商圈分享链接</button>\n        <input class="groupLink" type="text" style="width:80vw;height: 25px;font-size:14px;border: solid 1px #000;border-radius: 5px;margin: 10px auto;display: block;" placeholder="请输入需要助力的商圈的分享链接">\n        <button class="assistGroup" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">为这个商圈助力</button>\n        <button class="steal" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">抢夺商圈红包</button>\n        <button class="raise" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">解锁升级</button>\n        <button class="collect" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">收取金币</button>\n        <input class="timerSpan" type="text" style="width:80vw;height: 25px;font-size:14px;border: solid 1px #000;border-radius: 5px;margin: 10px auto;display: block;" placeholder="请输入定时时间间隔（毫秒）">\n        <button class="timer" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">定时收取金币</button>\n        <button class="auto" style="width: 120px;height:30px;background-color: red;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">一键完成任务</button>\n        <hr>\n        <p style="text-align:center;font-weight:700;color:red;">一键完成任务将会默认为作者助力<br>操作的时候不要执行其他任务</p>\n        <hr>\n        <button class="deliver" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">快递小哥送货</button>\n        <button class="signIn" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">每天签到</button>\n        <button class="master" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">逛逛主会场</button>\n        <button class="browser" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">逛逛商铺</button>\n        <button class="shopping" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">逛逛会场</button>\n        <button class="funny" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">好玩互动</button>\n        <button class="viewProduct" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">浏览好物</button>\n        <button class="addproduct" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">好物加购</button>\n        <button class="goodShopping" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">逛逛好物会场</button>\n        <button class="others" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">浏览其他活动</button>\n        <button class="treasure" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">寻宝箱领金币</button>\n        <button class="city" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">城市版图任务</button>\n        \n        </div>',this.container.appendChild(n);var o=C._$(".signIn"),r=C._$(".others"),i=C._$(".group"),a=C._$(".master"),u=C._$(".steal"),s=C._$(".help"),d=C._$(".funny"),c=C._$(".viewProduct"),l=C._$(".city"),p=C._$(".shopping"),f=C._$(".invite"),h=C._$(".goodShopping"),g=C._$(".timer"),m=C._$(".deliver"),v=C._$(".raise"),x=C._$(".collect"),b=C._$(".browser"),y=C._$(".assistGroup"),k=C._$(".helpGroup"),w=C._$(".assist"),T=C._$(".auto"),L=C._$(".treasure"),I=C._$(".addproduct");T.addEventListener("click",function(){e.autoDoTask()}),o.addEventListener("click",function(){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.signInEvent();case 1:case"end":return t.stop()}},t,this)}))}),m.addEventListener("click",function(){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.deliverEvent();case 1:case"end":return t.stop()}},t,this)}))}),L.addEventListener("click",function(){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.openTreasure();case 1:case"end":return t.stop()}},t,this)}))}),a.addEventListener("click",function(){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.doTask(3,"开始每天主会场任务","shoppingActivityVos");case 1:case"end":return t.stop()}},t,this)}))}),I.addEventListener("click",function(){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.addproductEvent();case 1:case"end":return t.stop()}},t,this)}))}),p.addEventListener("click",function(){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.doTask(9,"开始自动逛逛会场任务","shoppingActivityVos");case 1:case"end":return t.stop()}},t,this)}))}),h.addEventListener("click",function(){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.doTask(16,"开始自动逛逛好物会场任务","shoppingActivityVos");case 1:case"end":return t.stop()}},t,this)}))}),d.addEventListener("click",function(){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.doTask(14,"开始自动好玩互动任务","shoppingActivityVos");case 1:case"end":return t.stop()}},t,this)}))}),r.addEventListener("click",function(){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.doTask(15,"开始自动好玩互动任务","shoppingActivityVos");case 1:case"end":return t.stop()}},t,this)}))}),c.addEventListener("click",function(){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.viewProductEvent();case 1:case"end":return t.stop()}},t,this)}))}),b.addEventListener("click",function(){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.browserEvent();case 1:case"end":return t.stop()}},t,this)}))}),u.addEventListener("click",function(){C.default.outPutLog(e.outputTextarea,"开始抢夺红包"),(new Date).getHours()<20?alert("不在使用时间范围内！"):e.steal()}),x.addEventListener("click",function(){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return C.default.outPutLog(this.outputTextarea,"开始收取金币"),t.next=3,this.collect();case 3:case"end":return t.stop()}},t,this)}))}),i.addEventListener("click",function(){e.group()}),g.addEventListener("click",function(){e.switchTimer()}),k.addEventListener("click",function(){e.helpGroup()}),s.addEventListener("click",function(){e.help()}),f.addEventListener("click",function(){e.getInvite()}),y.addEventListener("click",function(){var t=C._$(".groupLink");e.assistGroup(t.value)}),w.addEventListener("click",function(){var t=C._$(".inviteLink");e.assist(t.value)}),v.addEventListener("click",function(){e.raise()}),l.addEventListener("click",function(){C.default.outPutLog(e.outputTextarea,"开始城市版图任务"),e.visit()}),document.createEvent("MouseEvents").initEvent("click",!0,!0)}},{key:"signInEvent",value:function(){return P(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(n){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.getTaskById(1),C.default.outPutLog(this.outputTextarea,"开始每天签到任务"),e&&2!=e.status){t.next=6;break}C.default.outPutLog(this.outputTextarea,"系统尚未分配到该任务或者任务已完成，先去完成其他任务吧~"),t.next=8;break;case 6:return t.next=8,this.single(1,"1");case 8:n();case 9:case"end":return t.stop()}},t,this)}))}));case 1:case"end":return t.stop()}},t,this)}))}},{key:"deliverEvent",value:function(){return P(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(n){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.getTaskById(24),C.default.outPutLog(this.outputTextarea,"开始快递小哥送快递任务"),e&&2!=e.status){t.next=6;break}C.default.outPutLog(this.outputTextarea,"系统尚未分配到该任务或者任务已完成，先去完成其他任务吧~"),t.next=10;break;case 6:return t.next=8,this.multi(24,"1",5);case 8:return t.next=10,this.updateTask();case 10:n();case 11:case"end":return t.stop()}},t,this)}))}));case 1:case"end":return t.stop()}},t,this)}))}},{key:"addproductEvent",value:function(){return P(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(n){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((e=this.getTaskById(101))&&2!=e.status){t.next=5;break}C.default.outPutLog(this.outputTextarea,"系统尚未分配到该任务或者任务已完成，先去完成其他任务吧~"),t.next=10;break;case 5:return C.default.outPutLog(this.outputTextarea,"开始自动加购好物任务"),t.next=8,this.add(e.productInfoVos,e.taskId);case 8:return t.next=10,this.updateTask();case 10:n();case 11:case"end":return t.stop()}},t,this)}))}));case 1:case"end":return t.stop()}},t,this)}))}},{key:"viewProductEvent",value:function(){return P(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(n){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((e=this.getTaskById(100))&&2!=e.status){t.next=5;break}C.default.outPutLog(this.outputTextarea,"系统尚未分配到该任务或者任务已完成，先去完成其他任务吧~"),t.next=10;break;case 5:return C.default.outPutLog(this.outputTextarea,"开始自动浏览好物任务"),t.next=8,this.view(e.productInfoVos,e.taskId);case 8:return t.next=10,this.updateTask();case 10:n();case 11:case"end":return t.stop()}},t,this)}))}));case 1:case"end":return t.stop()}},t,this)}))}},{key:"browserEvent",value:function(){return P(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(n){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(C.default.outPutLog(this.outputTextarea,"开始自逛逛商店任务"),(e=this.getTaskById(10))&&2!=e.status){t.next=6;break}C.default.outPutLog(this.outputTextarea,"系统尚未分配到该任务或者任务已完成，先去完成其他任务吧~"),t.next=10;break;case 6:return t.next=8,this.browser(e.browseShopVo,e.taskId);case 8:return t.next=10,this.updateTask();case 10:n();case 11:case"end":return t.stop()}},t,this)}))}));case 1:case"end":return t.stop()}},t,this)}))}},{key:"doTask",value:function(n,o,r,t){return P(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.getTaskById(n),C.default.outPutLog(this.outputTextarea,o),e&&2!=e.status){t.next=6;break}C.default.outPutLog(this.outputTextarea,"系统尚未分配到该任务或者任务已完成，先去完成其他任务吧~"),t.next=10;break;case 6:return t.next=8,this.send(e[r],e.taskId);case 8:return t.next=10,this.updateTask();case 10:case"end":return t.stop()}},t,this)}))}},{key:"autoDoTask",value:function(){return P(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return C.default.outPutLog(this.outputTextarea,"开始自动一键执行任务"),t.next=3,this.updateTask();case 3:return this.helpGroup(),this.help(),t.next=7,this.signInEvent();case 7:return t.next=9,this.deliverEvent();case 9:return t.next=11,this.browserEvent();case 11:return t.next=13,this.doTask(3,"开始每天主会场任务","shoppingActivityVos");case 13:return t.next=15,this.doTask(9,"开始自动逛逛会场任务","shoppingActivityVos");case 15:return t.next=17,this.doTask(14,"开始自动好玩互动任务","shoppingActivityVos");case 17:return t.next=19,this.viewProductEvent();case 19:return t.next=21,this.addproductEvent();case 21:return t.next=23,this.doTask(16,"开始自动逛逛好物会场任务","shoppingActivityVos");case 23:return t.next=25,this.doTask(15,"开始自动好玩互动任务","shoppingActivityVos");case 25:return t.next=27,this.visit();case 27:return t.next=29,this.openTreasure();case 29:C.default.outPutLog(this.outputTextarea,"所有任务已完成");case 30:case"end":return t.stop()}},t,this)}))}},{key:"getTaskById",value:function(e){return this.taskVos.filter(function(t){return t.taskId==e})[0]}},{key:"single",value:function(n,o){var r=this;return new Promise(function(e){var t={taskId:n,itemId:o,ss:'{"extraData":{},"businessData":{"taskId":'+n+',"rnd":"","inviteId":"-1","stealId":"-1"},"secretp":"'+r.secretp+'"}',shopSign:""};C.default.request("stall_collectScore",t).then(function(t){C.default.outPutLog(r.outputTextarea,t.data.bizMsg),e()}).catch(function(){e()})})}},{key:"multi",value:function(n,o,r){return P(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(e<r)return t.next=4,this.single(n,o);t.next=9;break;case 4:return t.next=6,C.default.sleep(8e3);case 6:e++,t.next=1;break;case 9:case"end":return t.stop()}},t,this)}))}},{key:"collect",value:function(){var n=this;return new Promise(function(e){var t={ss:'{"extraData":{},"businessData":{"taskId":"collectProducedCoin","rnd":"729594","inviteId":"-1","stealId":"-1"},"secretp":"'+n.secretp+'"}'};C.default.request("stall_collectProduceScore",t).then(function(t){C.default.outPutLog(n.outputTextarea,"领取金币:"+t.data.result.produceScore),e()})})}},{key:"switchTimer",value:function(){var t=this;if(this.switchFlag){var e=+C._$(".timerSpan").value;if(e<=6e4)return void alert("当前领取时间间隔太短了！建议调整一下！");C.default.outPutLog(this.outputTextarea,"开启定时器"),C._$(".timer").innerText="取消定时收取",this.switchtimer=window.setInterval(function(){t.collect()},e)}else C.default.outPutLog(this.outputTextarea,"停止定时器"),C._$(".timer").innerText="定时收取金币",window.clearInterval(this.switchtimer),this.timer=0;this.switchFlag=!this.switchFlag}},{key:"visit",value:function(){return P(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(a){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:C.default.request("stall_myShop",{}).then(function(i){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){var o,d,c,e,n,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=i.data.result.shopList,d=this,c=o.length,e=regeneratorRuntime.mark(function t(u){var e,s,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=o[u],s=e.shopId,C.default.outPutLog(d.outputTextarea,"任务城市进度："+(u+1)+"/"+c+"当前任务城市："+e.name),t.next=4,C.default.sleep(3e3);case 4:return n={shopSign:s},t.next=7,new Promise(function(a){C.default.request("stall_getTaskDetail",n).then(function(i){return P(r,void 0,void 0,regeneratorRuntime.mark(function t(){var n,e,o,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=i.data.result.taskVos,e=regeneratorRuntime.mark(function t(e){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(2!=(o=n[e]).status){t.next=5;break}C.default.outPutLog(d.outputTextarea,"当前任务已完成!跳过~"),t.next=7;break;case 5:return t.next=7,new Promise(function(n){C.default.outPutLog(d.outputTextarea,"定时模拟等待任务结束!"),setTimeout(function(){return P(r,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={taskId:o.taskId,itemId:this.getItemIdByName(o,o.taskName,o.taskId),ss:'{"extraData":{},"businessData":{"taskId":'+o.taskId+',"rnd":"","inviteId":"-1","stealId":"-1"},"secretp":"'+this.secretp+'"}',shopSign:s},t.next=3,C.default.request("stall_collectScore",e).then(function(){C.default.outPutLog(d.outputTextarea,"当前任务已完成!"),n()});case 3:case"end":return t.stop()}},t,this)}))},f.default.timeoutSpan+C.default.random(300,500))});case 7:case"end":return t.stop()}},t,r)}),o=0;case 3:if(o<n.length)return t.delegateYield(e(o),"t0",5);t.next=8;break;case 5:o++,t.next=3;break;case 8:C.default.outPutLog(d.outputTextarea,"任务已完成"+(u+1)+"/"+c),a();case 10:case"end":return t.stop()}},t,this)}))}).catch(function(){a()})});case 7:case"end":return t.stop()}},t,r)}),n=0;case 4:if(n<c)return t.delegateYield(e(n),"t0",6);t.next=9;break;case 6:n++,t.next=4;break;case 9:a();case 10:case"end":return t.stop()}},t,this)}))}).catch(function(){a()});case 1:case"end":return t.stop()}},t,this)}))}));case 1:case"end":return t.stop()}},t,this)}))}},{key:"getVoNameById",value:function(t){var e="";switch(t){case 1:e="simpleRecordInfoVo";break;case 2:e="followShopVo";break;case 3:default:e="shoppingActivityVos"}return e}},{key:"getItemIdByName",value:function(e,t,n){var o=this.getVoNameById(n);if(1==n)return e[o].itemId;var r=e[o].filter(function(t){return t.shopName==e.taskName||t.subtitle==e.taskName})[0];return r?r.itemId:e[o][0].itemId}},{key:"browser",value:function(s,d){return P(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(o){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){var i,a,e,n,u=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=this,a=s.length,e=regeneratorRuntime.mark(function t(o){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={taskId:d,itemId:s[o].itemId,actionType:"1",ss:'{"extraData":{},"businessData":{"taskId":'+d+',"rnd":"","inviteId":"-1","stealId":"-1"},"secretp":"'+u.secretp+'"}',shopSign:""},t.next=3,new Promise(function(n){return P(u,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.default.sleep(f.default.timeoutSpan+C.default.random(300,500));case 2:return t.next=4,C.default.request("stall_collectScore",r).then(function(){C.default.outPutLog(i.outputTextarea,"模拟关注店铺中!"),C.default.request("followShop",{shopId:s[o].shopId,follow:!0,type:"0"}).then(function(){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return C.default.outPutLog(i.outputTextarea,"等待8s任务完成后再领取奖励中"),t.next=3,C.default.sleep(8e3+C.default.random(300,500));case 3:e={taskId:d,itemId:s[o].itemId,ss:'{"extraData":{},"businessData":{"taskId":'+d+',"rnd":"","inviteId":"-1","stealId":"-1"},"secretp":"'+this.secretp+'"}',shopSign:""},C.default.request("stall_collectScore",e).then(function(){C.default.outPutLog(i.outputTextarea,"操作成功！任务序号："+(o+1)+"/"+a),a<=o+1&&C.default.outPutLog(i.outputTextarea,"当前任务已完成!"),n()}).catch(function(){n()});case 5:case"end":return t.stop()}},t,this)}))})}).catch(function(){n()});case 4:case"end":return t.stop()}},t,this)}))});case 3:case"end":return t.stop()}},t,u)}),n=0;case 3:if(n<a)return t.delegateYield(e(n),"t0",5);t.next=8;break;case 5:n++,t.next=3;break;case 8:o();case 9:case"end":return t.stop()}},t,this)}))}));case 1:case"end":return t.stop()}},t,this)}))}},{key:"view",value:function(i,a){return P(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(r){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){var l,p,e,n,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:l=this,p=i.length,e=regeneratorRuntime.mark(function t(c){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={taskId:a},t.next=3,new Promise(function(d){return P(o,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.default.sleep(f.default.timeoutSpan+C.default.random(300,500));case 2:return t.next=4,C.default.request("stall_getFeedDetail",n).then(function(s){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){var a,e,n,u=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:C.default.outPutLog(l.outputTextarea,"模拟浏览商品中!"),a=5,e=regeneratorRuntime.mark(function t(o){var e,r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.data.result.viewProductVos[c].productInfoVos,r=e[o],i=s.data.result.viewProductVos[c].taskId,t.next=3,new Promise(function(n){return P(u,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.default.sleep(5e3+C.default.random(300,500));case 2:e={taskId:i,itemId:r.itemId,ss:'{"extraData":{},"businessData":{"taskId":'+i+',"rnd":"","inviteId":"-1","stealId":"-1"},"secretp":"'+this.secretp+'"}',shopSign:""},C.default.request("stall_collectScore",e).then(function(){n(),C.default.outPutLog(l.outputTextarea,"浏览商品完成!"),a-1<=o&&(C.default.outPutLog(l.outputTextarea,"操作成功！任务序号："+(c+1)+"/"+p),p<=c+1&&C.default.outPutLog(l.outputTextarea,"当前任务已完成!"),d())}).catch(function(){n()});case 4:case"end":return t.stop()}},t,this)}))});case 3:case"end":return t.stop()}},t,u)}),n=0;case 4:if(n<a)return t.delegateYield(e(n),"t0",6);t.next=9;break;case 6:n++,t.next=4;break;case 9:case"end":return t.stop()}},t,this)}))}).catch(function(){d()});case 4:case"end":return t.stop()}},t,this)}))});case 3:case"end":return t.stop()}},t,o)}),n=0;case 3:if(n<p)return t.delegateYield(e(n),"t0",5);t.next=8;break;case 5:n++,t.next=3;break;case 8:r();case 9:case"end":return t.stop()}},t,this)}))}));case 1:case"end":return t.stop()}},t,this)}))}},{key:"add",value:function(i,a){var t=this;return new Promise(function(r){return P(t,void 0,void 0,regeneratorRuntime.mark(function t(){var l,p,e,n,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:l=this,p=i.length,e=regeneratorRuntime.mark(function t(c){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={taskId:a},t.next=3,new Promise(function(d){return P(o,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.default.sleep(f.default.timeoutSpan+C.default.random(300,500));case 2:return t.next=4,C.default.request("stall_getFeedDetail",n).then(function(s){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){var a,e,n,u=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:C.default.outPutLog(l.outputTextarea,"模拟加购商品中!"),a=5,e=regeneratorRuntime.mark(function t(o){var e,r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.data.result.addProductVos[c].productInfoVos,r=e[o],i=s.data.result.addProductVos[c].taskId,t.next=3,new Promise(function(n){return P(u,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.default.sleep(5e3+C.default.random(300,500));case 2:e={taskId:i,itemId:r.itemId,ss:'{"extraData":{},"businessData":{"taskId":'+i+',"rnd":"","inviteId":"-1","stealId":"-1"},"secretp":"'+this.secretp+'"}',shopSign:""},C.default.request("stall_collectScore",e).then(function(){n(),C.default.outPutLog(l.outputTextarea,"加购商品完成!"),a-1<=o&&(C.default.outPutLog(l.outputTextarea,"操作成功！任务序号："+(c+1)+"/"+p),p<=c+1&&C.default.outPutLog(l.outputTextarea,"当前任务已完成!"),d())}).catch(function(){n()});case 4:case"end":return t.stop()}},t,this)}))});case 3:case"end":return t.stop()}},t,u)}),n=0;case 4:if(n<a)return t.delegateYield(e(n),"t0",6);t.next=9;break;case 6:n++,t.next=4;break;case 9:case"end":return t.stop()}},t,this)}))}).catch(function(){d()});case 4:case"end":return t.stop()}},t,this)}))});case 3:case"end":return t.stop()}},t,o)}),n=0;case 3:if(n<p)return t.delegateYield(e(n),"t0",5);t.next=8;break;case 5:n++,t.next=3;break;case 8:r();case 9:case"end":return t.stop()}},t,this)}))})}},{key:"steal",value:function(){return P(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:C.default.request("stall_pk_getStealForms",{}).then(function(u){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){var o,i,e,n,r,a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=u.data.result.stealGroups,i=this,e=o.length,n=regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=o[e],r={stealId:n.id,ss:'{"extraData":{},"businessData":{"taskId":"","rnd":"","inviteId":"-1","stealId":"'+n.id+'"},"secretp":"'+a.secretp+'"}'},t.next=4,new Promise(function(o){setTimeout(function(){return P(a,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:C.default.request("stall_pk_doSteal",r).then(function(e){return P(n,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:C.default.outPutLog(i.outputTextarea,"夺取红包中!"),C.default.outPutLog(i.outputTextarea,e.data.bizMsg),o();case 3:case"end":return t.stop()}},t,this)}))});case 1:case"end":return t.stop()}},t,this)}))},5e3+C.default.random(300,500))});case 4:case"end":return t.stop()}},t,a)}),r=0;case 4:if(r<e)return t.delegateYield(n(r),"t0",6);t.next=9;break;case 6:r++,t.next=4;break;case 9:C.default.outPutLog(i.outputTextarea,"已偷取所有可以偷取的用户的红包");case 10:case"end":return t.stop()}},t,this)}))});case 1:case"end":return t.stop()}},t,this)}))}},{key:"openTreasure",value:function(){return P(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:C.default.request("qryCompositeMaterials",{qryParam:'[{"type":"advertGroup","mapTo":"homeFeedBanner","id":"04891279"},{"type":"advertGroup","mapTo":"homeBottomBanner","id":"04888981"},{"type":"advertGroup","mapTo":"homeBottomBanner2","id":"04958033"}]',activityId:"4SJUHwGdUQYgg94PFzjZZbGZRjDd",pageId:"",reqSrc:"",applyKey:"raiders_venue_lite"}).then(function(r){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){var n,e,o,a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=r.data.homeBottomBanner2.list,e=regeneratorRuntime.mark(function t(r){var e,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n[r],i={shopSign:e.link,ss:'{"extraData":{},"businessData":{"taskId":"'+e.link+'","rnd":"","inviteId":"-1","stealId":"-1"},"secretp":"'+a.secretp+'"}'},t.next=4,new Promise(function(o){setTimeout(function(){return P(a,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:C.default.request("stall_shopSignInWrite",i).then(function(e){return P(n,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:C.default.outPutLog(this.outputTextarea,"("+(r+1)+"/10)寻宝箱领金币中"),C.default.outPutLog(this.outputTextarea,e.data.bizMsg),o();case 3:case"end":return t.stop()}},t,this)}))});case 1:case"end":return t.stop()}},t,this)}))},5e3+C.default.random(300,500))});case 4:case"end":return t.stop()}},t,a)}),o=0;case 3:if(o<10)return t.delegateYield(e(o),"t0",5);t.next=8;break;case 5:o++,t.next=3;break;case 8:C.default.outPutLog(this.outputTextarea,"已偷取所有可以开的寻宝箱的金币");case 9:case"end":return t.stop()}},t,this)}))});case 1:case"end":return t.stop()}},t,this)}))}},{key:"send",value:function(s,d,t){var e=this,c=2<arguments.length&&void 0!==t&&t;return new Promise(function(o){return P(e,void 0,void 0,regeneratorRuntime.mark(function t(){var i,a,e,n,u=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=this,a=s.length,e=regeneratorRuntime.mark(function t(r){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={taskId:d,itemId:s[r].itemId,actionType:"1",ss:'{"extraData":{},"businessData":{"taskId":'+d+',"rnd":"","inviteId":"-1","stealId":"-1"},"secretp":"'+u.secretp+'"}',shopSign:""},t.next=3,new Promise(function(o){return P(u,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.default.sleep(f.default.timeoutSpan+C.default.random(300,500));case 2:return t.next=4,C.default.request("stall_collectScore",e).then(function(e){return P(n,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!c){t.next=4;break}o(),t.next=13;break;case 4:if(e.data.result)return t.next=7,C.default.sleep(8e3);t.next=11;break;case 7:C.default.outPutLog(i.outputTextarea,"等待8s任务完成后再领取奖励中"),C.default.request("qryViewkitCallbackResult",{clientLanguage:"zh",dataSource:"newshortAward",method:"getTaskAward",reqParams:'{"taskToken":"'+e.data.result.taskToken+'"}',taskSDKVersion:"1.0.3",vkVersion:"1.0.0"}).then(function(){C.default.outPutLog(i.outputTextarea,"操作成功！任务序号："+(r+1)+"/"+a),a<=r+1&&C.default.outPutLog(i.outputTextarea,"当前任务已完成!"),o()}).catch(function(){o()}),t.next=13;break;case 11:C.default.outPutLog(i.outputTextarea,"操作成功！任务序号："+(r+1)+"/"+a),o();case 13:case"end":return t.stop()}},t,this)}))}).catch(function(){o()});case 4:case"end":return t.stop()}},t,this)}))});case 3:case"end":return t.stop()}},t,u)}),n=0;case 3:if(n<a)return t.delegateYield(e(n),"t0",5);t.next=8;break;case 5:n++,t.next=3;break;case 8:o();case 9:case"end":return t.stop()}},t,this)}))})}},{key:"raise",value:function(){var e=this;C.default.request("stall_raise").then(function(t){0==t.data.bizCode?C.default.outPutLog(e.outputTextarea,"操作成功！获取奖励如下:"+JSON.stringify(t.data.result.levelUpAward)):C.default.outPutLog(e.outputTextarea,"操作失败！"+t.data.bizMsg)})}},{key:"getInvite",value:function(){var n=this;C.default.request("stall_getTaskDetail",{shopSign:""}).then(function(t){var e=t.data.result.inviteId.replace("#/","");e?(C.default.outPutLog(n.outputTextarea,"获取到邀请地址:"+n.inviteUrl+e),C.default.copyText(""+n.inviteUrl+e)):C.default.outPutLog(n.outputTextarea,"数据异常")})}},{key:"help",value:function(){C.default.outPutLog(this.outputTextarea,"操作成功！谢谢你的助力！");var t=["2YbXmX7Kla3k9gGb6yPYYofPF9MRBzEqhb6qz9ahKg","2ZzBmkDDlbfy9T-ScMEdLdPvdqRU9KDJdhTj-t1jUuzmATGdKow","T0kkDJUmGX0Sdet46x7KGSqKNI-klg18GVA8f5s","DgxlSNRnRyNRPa01oWqgYGmh6fowp7KSdvYh_P9xeptD0UnvN0zMq6o"];this.assist(this.inviteUrl+t[C.default.random(0,t.length-1)])}},{key:"helpGroup",value:function(t){var e=!(0<arguments.length&&void 0!==t)||t;if(9<=(new Date).getHours()){var n=["标记"];if(0==n.length||"标记"==n[0])return;var o=this.groupInvitedUrl+n[C.default.random(0,n.length-1)];this.assistGroup(o,e)}}},{key:"group",value:function(){var n=this;C.default.request("stall_pk_getHomeData").then(function(t){var e=t.data.result.groupInfo.groupAssistInviteId;e?(C.default.outPutLog(n.outputTextarea,"获取到邀请地址:"+n.groupInvitedUrl+e),C.default.copyText(""+n.groupInvitedUrl+e)):C.default.outPutLog(n.outputTextarea,"请先创建商圈！")})}},{key:"assistGroup",value:function(t,e){var n=this,o=!(1<arguments.length&&void 0!==e)||e;if(t&&t.includes("inviteId")){var r=C.default.getSearchString(t,"inviteId").replace("#/",""),i={confirmFlag:1,inviteId:""+r,ss:'{"extraData":{},"businessData":{"taskId":"2","rnd":"","inviteId":"'+r+'","stealId":"-1"},"secretp":"'+this.secretp+'"}'};C.default.request("stall_pk_assistGroup",i).then(function(t){o&&(C.default.outPutLog(n.outputTextarea,"操作成功！谢谢你为我的商圈助力！"),C.default.outPutLog(n.outputTextarea,"助力结果："+t.data.bizMsg))})}else alert("请输入要助力的商圈分享链接或输入正确的商圈分享地址！")}},{key:"assist",value:function(t){var n=this;if(t||t.includes("inviteId")){var o=C.default.getSearchString(t,"inviteId").replace("#/","");C.default.request("stall_getHomeData",{inviteId:o}).then(function(t){var e={taskId:"2",itemId:t.data.result.homeMainInfo.guestInfo.itemId,ss:'{"extraData":{},"businessData":{"taskId":"2","rnd":"","inviteId":"'+o+'","stealId":"-1"},"secretp":"'+n.secretp+'"}',inviteId:o};C.default.request("stall_collectScore",e).then(function(t){C.default.outPutLog(n.outputTextarea,"助力结果："+t.data.bizMsg)})})}else alert("请输入要助力的分享链接或输入正确的分享地址！")}}]),r);function r(t,e){p(this,r),this.detailurl="https://api.m.jd.com/client.action?functionId=stall_getTaskDetail",this.data=[],this.taskVos=[],this.timer=1e3,this.secretp="",this.inviteUrl="https://bunearth.m.jd.com/babelDiy/Zeus/4SJUHwGdUQYgg94PFzjZZbGZRjDd/index.html?shareType=homeTask&inviteId=",this.groupInvitedUrl="https://bunearth.m.jd.com/babelDiy/Zeus/4SJUHwGdUQYgg94PFzjZZbGZRjDd/index.html?shareType=cbdDay&inviteId=",this.switchFlag=!0,this.switchtimer=0,this.container=t,this.outputTextarea=e}n.default=o},{"../config/config":2,"../utils/utils":26}],2:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});function o(){p(this,o)}(n.default=o).title="京东领券助手",o.version="v0.4.3",o.author="krapnik",o.timingFlag=!1,o.UAFlag=!1,o.locationHref=window.location.href,o.postCount=1,o.localeTime="",o.serverTime="",o.startTime=0,o.intervalId=0,o.intervalSpan=500,o.postSpan=500,o.timeoutSpan=1500,o.JDAppUA="jdapp;android;8.4.2;8.0.0;;network/wifi;model/Mi Note 2;osVer/26;appBuild/71043;psn/|7;psq/1;uid/;adk/;ads/;pap/JA2015_311210|8.4.2|ANDROID 8.0.0;osv/8.0.0;pv/2.23;jdv/;ref/com.jingdong.app.mall.WebActivity;partner/huawei;apprpd/Home_Main;Mozilla/5.0 (Linux; Android 8.0.0; Mi Note 2 Build/OPR1.170623.032; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/71.0.3578.99 Mobile Safari/537.36",o.JDUserInfoURL="https://wq.jd.com/user/info/QueryJDUserInfo?sceneid=11110&sceneval=2&g_login_type=1",o.JDTimeInfoURL="https://api.m.jd.com/client.action?functionId=babelActivityGetShareInfo&client=wh5",o.JDIMGSourcesURL="https://img13.360buyimg.com/n1/s450x450_",o.NetdiskURL="链接：https://pan.baidu.com/s/17eyRRSrFUQVSKdYwIcDsHg 提取码：jddk ",o.multiFlag=!1,o.importFlag=!1},{}],3:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var o=(c(r,null,[{key:"getCookie",value:function(){return document.cookie}},{key:"getCookieObj",value:function(t){if(t){for(var e={},n=t.split(";"),o=0;o<n.length;o++){var r=n[o].trim(),i=r.indexOf("="),a=r.substring(0,i),u=r.substring(i+1,r.length);e[a]=u}return e}alert("ck内容格式有误！")}},{key:"setCookie",value:function(t,e,n,o){var r=2<arguments.length&&void 0!==n?n:".jd.com",i=3<arguments.length&&void 0!==o?o:"/",a=new Date;a.setTime(a.getTime()+864e5);var u="expires="+a.toUTCString();document.cookie=t+"="+e+";"+u+";domain="+r+";path="+i}},{key:"clearAllCookie",value:function(t,e){var n=0<arguments.length&&void 0!==t?t:".jd.com",o=1<arguments.length&&void 0!==e?e:"/",r=document.cookie.match(/[^ =;]+(?=\=)/g);if(r)for(var i=r.length;i--;)document.cookie=r[i]+"=0;expires="+new Date(0).toUTCString()+";domain="+n+";path="+o}},{key:"coverCookie",value:function(t){this.clearAllCookie();var e=this.getCookieObj(t.ck);for(var n in e){var o=n,r=e[n];this.setCookie(o,r)}}}]),r);function r(){p(this,r)}n.CookieHandler=o},{}],4:[function(t,e,n){var i=this&&this.__awaiter||function(t,a,u,s){return new(u=u||Promise)(function(n,e){function o(t){try{i(s.next(t))}catch(t){e(t)}}function r(t){try{i(s.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?n(t.value):((e=t.value)instanceof u?e:new u(function(t){t(e)})).then(o,r)}i((s=s.apply(t,a||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../utils/utils"),u=t("../config/config"),s=t("../utils/fetch-jsonp"),d=t("./CookieHandler"),o=(c(r,null,[{key:"parseCK",value:function(t){try{this.cookieArr=this.splitCookies(t),0==this.cookieArr.length?alert("导入的文本文档格式内容有误或者读取识别！"):u.default.importFlag=!0}catch(t){console.log(t),alert("导入CK文本文档有误！")}}},{key:"splitCookies",value:function(t){var e=t.split("\n"),o=[];return e.map(function(t,e){var n=t.split("----");o.push({mark:n[0],ck:n[1],index:e,favoriteFood:"南瓜"})}),o}},{key:"outPutLog",value:function(t){if(0<this.cookieArr.length){var e="";this.cookieArr.map(function(t){e+="\n【"+t.mark+"】导入成功!"}),a.default.outPutLog(t,e)}}},{key:"checkLogin",value:function(n,o){var r=this;return new Promise(function(e,t){setTimeout(function(){return i(r,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return d.CookieHandler.coverCookie(o),t.next=3,s.default.fetchJsonp(u.default.JDUserInfoURL).then(function(t){return t.json()}).then(function(t){t.base.nickname?(a.default.outPutLog(n,"【"+o.mark+"】:京东账号->"+t.base.nickname),e(!0)):(a.default.outPutLog(n,"【"+o.mark+"】:该ck校验失败，请检查有效性!"),e(!1))});case 3:case"end":return t.stop()}},t,this)}))},500*o.index)})}}]),r);function r(t){p(this,r)}(n.default=o).cookieArr=[]},{"../config/config":2,"../utils/fetch-jsonp":25,"../utils/utils":26,"./CookieHandler":3}],5:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var i=t("../utils/utils"),o=(c(r,[{key:"get",value:function(){var t=this.detailurl.replace("{pid}",this.couponParams.pid);i.default.createJsonp(t,!0)}},{key:"jsonp",value:function(t){console.log(t);var e=JSON.parse(t.data),n=e.data;n?(this.couponList=[],e.success?(this.couponList.push({pid:n.productId,title:n.name,detail:n.description,imgUrl:n.imgUrl}),this.list()):alert("请检查该页面优惠券的有效性！")):i.default.outPutLog(this.outputTextarea,"领券结果:"+t.data)}},{key:"list",value:function(){var t=this,e=document.createElement("div");e.innerHTML="<h3 style='border-bottom: 1px solid #2196F3;display: inline-block;margin-top: 5px;padding: 0 37.5vw 5px;'>优惠券</h3>",e.setAttribute("style","display:flex;flex-direction:column;padding: 5px;margin-top: 5px;border: 1px solid #000;");for(var n=0;n<this.couponList.length;n++){var o=this.couponList[n],r=document.createElement("div");r.setAttribute("style","display:flex;flex-direction:row;padding:10px 0;border-bottom:1px solid #999"),r.innerHTML='<img style="width:120px;height:100%;margin-right:10vw;display: block;" src="'+o.imgUrl+'" />\n                <div>\n                    <h3 style="margin-bottom:10px">'+o.title+'</h3><p style="margin-bottom:10px">'+o.detail+'</p>\n                    <button class="receive" style="width: 80px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;">\n                        <a style="color: #fff;text-decoration: none;">直接领取</a>\n                    </button>\n                </div>',e.appendChild(r)}this.container.appendChild(e),i._$(".receive").addEventListener("click",function(){t.send()})}},{key:"send",value:function(){for(var t=0;t<this.couponList.length;t++){var e=this.couponList[t],n=this.url.replace("{pid}",e.pid);i.default.createJsonp(n,!0)}}}]),r);function r(t,e,n){p(this,r),this.url="https://vip.jr.jd.com/goldcoin/purchase?id={pid}&callback=",this.detailurl="https://vip.jr.jd.com/goldcoin/goods/{pid}?callback=",this.couponList=[],this.couponParams=t,this.container=e,this.outputTextarea=n,window.addEventListener("message",this.jsonp.bind(this),!1)}n.default=o},{"../utils/utils":26}],6:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var o=t("../utils/utils"),r=(c(i,[{key:"get",value:function(){var s=this;this.couponList=[];var t=this.detailurl.replace("{itemId}",this.couponParams.itemId);fetch(t,{credentials:"include"}).then(function(t){return t.json()}).then(function(t){if(t.success){var e=t.result.fuliAct,n=e.actPriceScoreMap,o=t.result.userInfo.userScore.score,r=void 0;for(var i in n){var a=i,u=JSON.parse(a);if(u[0]<o&&u[1]>o){r=n[i][0].id;break}}s.couponList.push({actId:s.couponParams.itemId,priceRuleId:r,groupId:e.actCodeGroups[0].id,title:e.name,detail:e.detail}),s.list()}else alert("请检查该页面优惠券的有效性！")})}},{key:"list",value:function(){var e=this,t=document.createElement("div");t.innerHTML="<h3 style='border-bottom: 1px solid #2196F3;display: inline-block;margin-top: 5px;padding: 0 37.5vw 5px;'>优惠券</h3>",t.setAttribute("style","display:flex;flex-direction:column;padding: 5px;margin-top: 5px;border: 1px solid #000;");for(var n=0;n<this.couponList.length;n++){var o=this.couponList[n],r=document.createElement("div");r.setAttribute("style","padding:10px 0;border:1px solid gray;border-radius: 10px;margin-top:5px;padding: 5px"),r.setAttribute("data-item","coupon"),r.innerHTML='<h4 style="user-select: none;pointer-events:none;">'+o.title+'</h4>\n                                <p style="user-select: none;pointer-events:none;margin-bottom:10px">详情：'+o.detail+'</p>\n                                <button data="coupon" style="width: 80px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;">直接领取</button>',t.appendChild(r),r.addEventListener("click",function(t){t.target.getAttribute("data")&&e.send()})}this.container.appendChild(t)}},{key:"send",value:function(){for(var e=this,t=0;t<this.couponList.length;t++){var n=this.couponList[t];fetch(this.url,{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"actId="+n.actId+"&groupId="+n.groupId+"&priceRuleId="+n.priceRuleId+"&client=m"}).then(function(t){return t.json()}).then(function(t){o.default.outPutLog(e.outputTextarea," 领券结果："+JSON.stringify(t))})}}}]),i);function i(t,e,n){p(this,i),this.url="https://vip.m.jd.com/fuli/exchange.html",this.detailurl="https://vip.m.jd.com/fuli/detail.html?itemId={itemId}",this.couponList=[],this.couponParams=t,this.container=e,this.outputTextarea=n}n.default=r},{"../utils/utils":26}],7:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var o=t("../utils/utils"),r=(c(i,[{key:"get",value:function(){var r=this;fetch(this.detailurl,{credentials:"include"}).then(function(t){return t.json()}).then(function(t){if(r.couponList=[],0==t.resultCode){for(var e=t.resultData.data.data,n=0;n<e.length;n++){var o=e[n];o&&r.couponList.push({pid:o.productId,exchangeStatus:3==o.exchangeStatus?"已抢光":2==o.exchangeStatus?"已领取":"可领取",detail:o.description,startDate:new Date(o.startDate).toLocaleString(),discountAmount:o.discountAmount,imgUrl:o.imgUrl,flag:!1})}r.list()}else alert("请检查该页面优惠券的有效性！")})}},{key:"jsonp",value:function(t){JSON.parse(t.data).data,o.default.outPutLog(this.outputTextarea,"领券结果:"+t.data)}},{key:"list",value:function(){var r=this,e=document.createElement("div");e.innerHTML="<h3 style='border-bottom: 1px solid #2196F3;display: inline-block;margin-top: 5px;padding: 0 37.5vw 5px;'>优惠券</h3><p style='margin: 5px 0;color:red'>请先点击列表项选择领取的券</p>",e.setAttribute("style","display:flex;flex-direction:column;padding: 5px;margin-top: 5px;border: 1px solid #000;");for(var t=function(t){var n=r.couponList[t],o=document.createElement("div");o.setAttribute("style","display:flex;flex-direction:row;text-align:left;border:1px solid gray;border-radius: 10px;margin-top:5px;padding: 5px"),o.setAttribute("data-item","coupon"),o.innerHTML='<img style="width:120px;height:100%;margin-right:10vw;display: block;" src="'+n.imgUrl+'" />\n                <div>\n                    <h3 style="margin-bottom:10px user-select: none;pointer-events:none;">'+n.detail+'</h3><p style="user-select: none;pointer-events:none;margin-bottom:10px">消耗金币：'+n.discountAmount+"<br>开始时间："+n.startDate+"<br>状态："+n.exchangeStatus+'</p>\n                    <button class="receive" data-id='+t+' style="width: 80px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;">\n                        <a style="color: #fff;text-decoration: none;user-select: none;pointer-events:none;">直接领取</a>\n                    </button>\n                </div>',e.appendChild(o),o.addEventListener("click",function(t){var e=t.target;e.getAttribute("data-item")||e.parentNode==o&&"BUTTON"!=e.tagName?(n.flag?o.style.border="1px solid gray":o.style.border="3px solid red",n.flag=!n.flag):e.getAttribute("data-id")&&r.singleSend(+e.getAttribute("data-id"))})},n=0;n<this.couponList.length;n++)t(n);this.container.appendChild(e)}},{key:"send",value:function(){for(var t=0;t<this.couponList.length;t++){var e=this.couponList[t],n=this.url.replace("{pid}",e.pid);e.flag&&o.default.createJsonp(n,!0)}}},{key:"singleSend",value:function(t){var e=this.couponList[t],n=this.url.replace("{pid}",e.pid);o.default.createJsonp(n,!0)}}]),i);function i(t,e,n){p(this,i),this.url="https://vip.jr.jd.com/goldcoin/purchase?id={pid}&callback=",this.detailurl="https://ms.jr.jd.com/gw/generic/hy/h5/m/gateFloorById?reqData={%22floorId%22:44,%22pageChannel%22:%22spike%22}",this.couponList=[],this.couponParams=t,this.container=e,this.outputTextarea=n,window.addEventListener("message",this.jsonp.bind(this),!1)}n.default=r},{"../utils/utils":26}],8:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../utils/utils"),i=t("../utils/fetch-jsonp"),o=(c(a,[{key:"get",value:function(){var r=this;this.couponList=[],fetch(this.detailurl,{method:"POST",body:"body="+encodeURIComponent('{"categoryId":118,"childActivityUrl":"openapp.jdmobile://virtual?params={\\"category\\":\\"jump\\",\\"des\\":\\"couponCenter\\"}","eid":"eidA34d08122basezJhsrmQRRxmKprHoj2C/qsyYbh5TyzlV40H/a8UVc9Mwqf5fJ3ez02Ja/n0hNrG4CqlQNZ5J5VyfpzABj6gCzqhlaRbPfZI81+d1","monitorRefer":"appClient","monitorSource":"ccfeed_android_index_feed","pageClickKey":"Coupons_GetCenter","pageNum":1,"pageSize":20,"shshshfpb":"hJFvGjgPo+Yfm06tQPQBhVa8JMvNh0ofLojzHNpvuXWBm0H7FUSxeyfZMVsrL7YOK"}'),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){return t.json()}).then(function(t){if(t.success){for(var e=t.result.couponList,n=0;n<e.length;n++){var o=e[n];r.couponList.push({ckey:o.ckey,title:o.title,quota:o.quota,discount:o.discount,actId:o.actId,batchId:o.batchId,flag:!1})}r.list()}else alert("请检查该页面优惠券的有效性！")})}},{key:"list",value:function(){var r=this,e=document.createElement("div");e.innerHTML="<h3 style='border-bottom: 1px solid #2196F3;display: inline-block;margin-top: 5px;padding: 0 37.5vw 5px;'>优惠券</h3><p style='margin: 5px 0;color:red'>请先点击列表项选择领取的券<br>【接口数据来自APP端-为你推荐】</p>",e.setAttribute("style","display:flex;flex-direction:column;padding: 5px;margin-top: 5px;border: 1px solid #000;");for(var t=function(t){var n=r.couponList[t],o=document.createElement("div");o.setAttribute("style",";margin-top:5px;padding:10px 0;border:1px solid #999"),o.setAttribute("data-item","coupon"),o.innerHTML='\n                    <p style="margin-bottom:10px">标题：'+n.title+"<br>详情："+n.quota+"<br>折扣："+n.discount+"<br></p>\n                    <button  data-id="+t+' style="width: 80px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0; color:#fff">直接领取</button>',e.appendChild(o),o.addEventListener("click",function(t){var e=t.target;e.getAttribute("data-item")||e.parentNode==o&&"BUTTON"!=e.tagName?(n.flag?o.style.border="1px solid gray":o.style.border="3px solid red",n.flag=!n.flag):e.getAttribute("data-id")&&r.singleSend(+e.getAttribute("data-id"))})},n=0;n<this.couponList.length;n++)t(n);this.container.appendChild(e)}},{key:"send",value:function(){for(var e=this,t=0;t<this.couponList.length;t++){var n=this.couponList[t],o=this.url.replace("{actId}",n.actId).replace("{ckey}",n.ckey).replace("{batchid}",n.batchId);n.flag&&i.default.fetchJsonp(o).then(function(t){return t.json()}).then(function(t){r.default.outPutLog(e.outputTextarea,"领券结果:"+JSON.stringify(t))})}}},{key:"singleSend",value:function(t){var e=this,n=this.couponList[t],o=this.url.replace("{actId}",n.actId).replace("{ckey}",n.ckey).replace("{batchid}",n.batchId);i.default.fetchJsonp(o).then(function(t){return t.json()}).then(function(t){r.default.outPutLog(e.outputTextarea,"领券结果:"+JSON.stringify(t))})}}]),a);function a(t,e,n){p(this,a),this.url="https://s.m.jd.com/activemcenter/mcouponcenter/receivecoupon?coupon={actId},{ckey}&batchid={batchid}&sceneval=2&g_login_type=1",this.detailurl="https://api.m.jd.com/client.action?functionId=getCcFeedInfo&clientVersion=8.4.6&client=android&uuid=869782023101754-c40bcb2a081c&st=1580274952976&sign=5e8edb6a1063a25d2a8d98b537974329&sv=120",this.couponList=[],this.couponParams=t,this.container=e,this.outputTextarea=n}n.default=o},{"../utils/fetch-jsonp":25,"../utils/utils":26}],9:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var o=t("../utils/utils"),r=(c(i,[{key:"get",value:function(){this.couponList=[];var t=window._couponData.batchinfo,e=[];for(var n in t)e&&e instanceof Array&&(e=t[n]);for(var o=0;o<e.length;o++){var r=e[o],i=r.limitStr,a=r.discount,u=r.quota,s=r.constraintBeginTime,d=r.constraintEndTime;this.couponList.push({limitStr:i,discount:a,constraintEndTime:d,constraintBeginTime:s,quota:u,flag:!1})}this.list()}},{key:"list",value:function(){var r=this,e=document.createElement("div");e.innerHTML="<h3 style='border-bottom: 1px solid #2196F3;display: inline-block;margin-top: 5px;padding: 0 37.5vw 5px;'>优惠券</h3><p style='margin: 5px 0;color:red'>请先点击列表项选择领取的券</p>",e.setAttribute("style","display:flex;flex-direction:column;padding: 5px;margin-top: 5px;border: 1px solid #000;");for(var t=function(t){var n=r.couponList[t],o=document.createElement("div");o.setAttribute("style","padding:10px 0;border:1px solid gray;border-radius: 10px;margin-top:5px;padding: 5px"),o.setAttribute("data-item","coupon"),o.innerHTML='<h4 style="user-select: none;pointer-events:none;">'+n.quota+"-"+n.discount+'</h4>\n                                <p style="user-select: none;pointer-events:none;margin-bottom:10px">范围：'+n.limitStr+"<br/>时间："+n.constraintBeginTime+"-"+n.constraintEndTime+'</p>\n                                <button data="coupon" style="width: 80px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;">直接领取</button>',e.appendChild(o),o.addEventListener("click",function(t){var e=t.target;e.getAttribute("data-item")||e.parentNode==o&&"BUTTON"!=e.tagName?(n.flag?o.style.border="1px solid gray":o.style.border="3px solid red",n.flag=!n.flag):e.getAttribute("data")&&r.send()})},n=0;n<this.couponList.length;n++)t(n);this.container.appendChild(e)}},{key:"send",value:function(){var t=this.url.replace("{key}",this.couponParams.key).replace("{roleId}",this.couponParams.roleId);o.default.createJsonp(t,!1)}},{key:"jsonp",value:function(t){o.default.outPutLog(this.outputTextarea,"领券结果:"+JSON.stringify(t))}}]),i);function i(t,e,n){p(this,i),this.url="https://s.m.jd.com/activemcenter/mfreecoupon/getcoupon?key={key}&roleId={roleId}",this.couponList=[],this.couponParams=t,this.container=e,this.outputTextarea=n,window.getcoupon=this.jsonp.bind(this)}n.default=r},{"../utils/utils":26}],10:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../utils/utils"),o=(c(i,[{key:"get",value:function(){this.couponList=[];for(var t=window.__react_data__.activityData.floorList,e=0;e<t.length;e++){var n=t[e];if("free_coupon"==n.template||"finance_coupon"==n.template||"combine_coupon"==n.template)for(var o=0;o<n.couponList.length;o++){var r=n.couponList[o],i=r.scene,a=r.args||r.cpId,u=r.jsonSrv?JSON.parse(r.jsonSrv).cid:"",s=r.discount,d=r.picUrl||r.picture,c=r.status,l=r.limit+","+r.scope;this.couponList.push({discount:s,details:l,scene:i,args:a,status:c,couponbatch:u,picUrl:d,flag:!1})}}this.list()}},{key:"list",value:function(){var e=this,r=document.createElement("div");r.innerHTML="<h3 style='border-bottom: 1px solid #2196F3;display: inline-block;margin-top: 5px;padding: 0 37.5vw 5px;'>优惠券</h3><p style='margin: 5px 0;color:red'>请先点击列表项选择领取的券</p>",r.setAttribute("style","display:flex;flex-direction:column;padding: 5px;margin-top: 5px;border: 1px solid #000;");for(var t=function(t){var n=e.couponList[t],o=document.createElement("div");o.setAttribute("style","display:flex;flex-direction:row;border:1px solid gray;border-radius: 10px;margin-top:5px;padding: 5px"),o.setAttribute("data-item","coupon"),"1"==n.scene?o.innerHTML='<img style="user-select: none;pointer-events:none;width:120px;height:100%;padding-right:10vw;display: block;" src="'+n.picUrl+'" />\n                <div">\n                    <p style="user-select: none;pointer-events:none;margin-bottom:10px">状态：'+("0"==n.status?"可领取":"1"==n.status?"已领取":"已领光")+"<br/>说明："+n.details+'</p>\n                    <button style="width: 100px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;">\n                        <a href=\'https://so.m.jd.com/list/couponSearch.action?couponbatch='+n.couponbatch+'\' target="_blank" style="color: #fff;text-decoration: none;">可用商品</a>\n                    </button>\n                    <button style="width: 100px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;">\n                        <a href=\'https://api.m.jd.com/client.action?functionId=newBabelAwardCollection&body={"activityId":"'+e.couponParams.activityId+'","scene":'+n.scene+',"args":"'+n.args+'"}&client=wh5\' target="_blank" style="color: #fff;text-decoration: none;">提取链接</a>\n                    </button>\n                </div>':"3"==n.scene&&(o.innerHTML='<img style="user-select: none;pointer-events:none;width:120px;height:100%;padding-right:10vw;display: block;" src="'+n.picUrl+'" />\n                <div">\n                <p style="user-select: none;pointer-events:none;margin-bottom:10px">状态：'+("0"==n.status?"可领取":"1"==n.status?"已领取":"已领光")+'</p>\n                <button style="width: 100px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;">\n                    <a href=\'https://api.m.jd.com/client.action?functionId=newBabelAwardCollection&body={"activityId":"'+e.couponParams.activityId+'","scene":'+n.scene+',"actKey":"'+n.args+'"}&client=wh5\' target="_blank" style="color: #fff;text-decoration: none;">提取链接</a>\n                </button>\n                </div>'),r.appendChild(o),o.addEventListener("click",function(t){var e=t.target;(e.getAttribute("data-item")||e.parentNode==o&&"BUTTON"!=e.tagName)&&(n.flag?o.style.border="1px solid gray":o.style.border="3px solid red",n.flag=!n.flag)})},n=0;n<this.couponList.length;n++)t(n);this.container.appendChild(r)}},{key:"send",value:function(){for(var o=this,t=function(e){var t=o.couponList[e],n="";"1"==t.scene?n='https://api.m.jd.com/client.action?functionId=newBabelAwardCollection&body={"activityId":"'+o.couponParams.activityId+'","scene":'+t.scene+',"args":"'+t.args+'"}&client=wh5':"3"==t.scene&&(n='https://api.m.jd.com/client.action?functionId=newBabelAwardCollection&body={"activityId":"'+o.couponParams.activityId+'","scene":'+t.scene+',"actKey":"'+t.args+'"}&client=wh5'),t.flag&&fetch(n,{credentials:"include"}).then(function(t){return t.json()}).then(function(t){t.errmsg?r.default.outPutLog(o.outputTextarea,"第"+(e+1)+"张 领券结果:"+t.errmsg):r.default.outPutLog(o.outputTextarea,"第"+(e+1)+"张 领券结果:"+t.subCodeMsg)})},e=0;e<this.couponList.length;e++)t(e)}}]),i);function i(t,e,n){p(this,i),this.url="https://api.m.jd.com/client.action?functionId=newBabelAwardCollection",this.couponList=[],this.couponParams=t,this.container=e,this.outputTextarea=n}n.default=o},{"../utils/utils":26}],11:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var i=t("../utils/utils"),o=(c(r,[{key:"get",value:function(){var t=this.detailurl.replace("{pid}",this.couponParams.pid);i.default.createJsonp(t,!0)}},{key:"jsonp",value:function(t){console.log(t);var e=JSON.parse(t.data),n=e.data;n?(this.couponList=[],e.success?(this.couponList.push({pid:n.productId,title:n.name,detail:n.description,imgUrl:n.imgUrl}),this.list()):alert("请检查该页面优惠券的有效性！")):i.default.outPutLog(this.outputTextarea,"领券结果:"+t.data)}},{key:"list",value:function(){var t=this,e=document.createElement("div");e.innerHTML="<h3 style='border-bottom: 1px solid #2196F3;display: inline-block;margin-top: 5px;padding: 0 37.5vw 5px;'>优惠券</h3>",e.setAttribute("style","display:flex;flex-direction:column;padding: 5px;margin-top: 5px;border: 1px solid #000;");for(var n=0;n<this.couponList.length;n++){var o=this.couponList[n],r=document.createElement("div");r.setAttribute("style","display:flex;flex-direction:row;padding:10px 0;border-bottom:1px solid #999"),r.innerHTML='<img style="width:120px;height:100%;margin-right:10vw;display: block;" src="'+o.imgUrl+'" />\n                <div>\n                    <h3 style="margin-bottom:10px">'+o.title+'</h3><p style="margin-bottom:10px">'+o.detail+'</p>\n                    <button class="receive" style="width: 80px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;">\n                        <a style="color: #fff;text-decoration: none;">直接领取</a>\n                    </button>\n                </div>',e.appendChild(r)}this.container.appendChild(e),i._$(".receive").addEventListener("click",function(){t.send()})}},{key:"send",value:function(){for(var t=0;t<this.couponList.length;t++){var e=this.couponList[t],n=this.url.replace("{pid}",e.pid);i.default.createJsonp(n,!0)}}}]),r);function r(t,e,n){p(this,r),this.url="https://vip.jr.jd.com/goldcoin/purchase?id={pid}&callback=",this.detailurl="https://vip.jr.jd.com/goldcoin/product/{pid}?callback=",this.couponList=[],this.couponParams=t,this.container=e,this.outputTextarea=n,window.addEventListener("message",this.jsonp.bind(this),!1)}n.default=o},{"../utils/utils":26}],12:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../utils/utils"),o=(c(i,[{key:"get",value:function(){var a=this;this.couponList=[],fetch(this.detailurl,{credentials:"include"}).then(function(t){return t.json()}).then(function(t){if(0==t.resultCode){for(var e=t.resultData.jtLimitedResults,n=0;n<e.length;n++)for(var o=e[n].floorInfo,r=0;r<o.length;r++){var i=o[r];a.couponList.push({couponKey:i.activeId,title:i.text2,detail:i.number,couponStatus:5==i.couponStatus?"已领光":1==i.couponStatus?"未开始":"已领取",time:i.time,flag:!1})}a.list()}else alert("请检查该页面优惠券的有效性！")})}},{key:"list",value:function(){var r=this,e=document.createElement("div");e.innerHTML="<h3 style='border-bottom: 1px solid #2196F3;display: inline-block;margin-top: 5px;padding: 0 37.5vw 5px;'>优惠券</h3><p style='margin: 5px 0;color:red'>请先点击列表项选择领取的券</p>",e.setAttribute("style","display:flex;flex-direction:column;padding: 5px;margin-top: 5px;border: 1px solid #000;");for(var t=function(t){var n=r.couponList[t],o=document.createElement("div");o.setAttribute("style",";margin-top:5px;padding:10px 0;border:1px solid #999"),o.setAttribute("data-item","coupon"),o.innerHTML='\n                    <p style="margin-bottom:10px">类型：'+n.title+"<br>详情："+n.detail+"<br>状态："+n.couponStatus+"<br>开始时间："+n.time+"</p>\n                    <button  data-id="+t+' style="width: 80px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0; color:#fff">直接领取</button>',e.appendChild(o),o.addEventListener("click",function(t){var e=t.target;e.getAttribute("data-item")||e.parentNode==o&&"BUTTON"!=e.tagName?(n.flag?o.style.border="1px solid gray":o.style.border="3px solid red",n.flag=!n.flag):e.getAttribute("data-id")&&r.singleSend(+e.getAttribute("data-id"))})},n=0;n<this.couponList.length;n++)t(n);this.container.appendChild(e)}},{key:"send",value:function(){for(var e=this,t=0;t<this.couponList.length;t++){var n=this.couponList[t],o=this.url.replace("{couponKey}",n.couponKey);n.flag&&fetch(o,{credentials:"include"}).then(function(t){return t.json()}).then(function(t){r.default.outPutLog(e.outputTextarea,"领券结果:"+JSON.stringify(t.resultData))})}}},{key:"singleSend",value:function(t){var e=this,n=this.couponList[t],o=this.url.replace("{couponKey}",n.couponKey);fetch(o,{credentials:"include"}).then(function(t){return t.json()}).then(function(t){r.default.outPutLog(e.outputTextarea,"领券结果:"+JSON.stringify(t.resultData))})}}]),i);function i(t,e,n){p(this,i),this.url="https://ms.jr.jd.com/gw/generic/bt/h5/m/receiveCoupons?reqData=%7B%22couponKey%22:%22{couponKey}%22,%22eid%22:%22170.0.0.1%22,%22appId%22:%22btm%22%7D",this.detailurl="https://ms.jr.jd.com/gw/generic/bt/h5/m/queryBtmLimitedInfo",this.couponList=[],this.couponParams=t,this.container=e,this.outputTextarea=n}n.default=o},{"../utils/utils":26}],13:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../utils/utils"),o=(c(i,[{key:"get",value:function(){r.default.createJsonp(this.detailurl,!0)}},{key:"jsonp",value:function(t){var e=JSON.parse(t.data),n=e.resultData.limitedResult;if(n)if(this.couponList=[],0==e.resultCode){for(var o=0;o<n.length;o++)for(var r=n[o].floorInfo,i=0;i<3;i++){var a=r[i];this.couponList.push({couponKey:a.couponKey,title:a.text1,detail:a.number,couponStatus:5==a.couponStatus?"已领光":1==a.couponStatus?"未开始":"已领取",time:n[o].time,flag:!1})}this.list()}else alert("请检查该页面优惠券的有效性！")}},{key:"list",value:function(){var r=this,e=document.createElement("div");e.innerHTML="<h3 style='border-bottom: 1px solid #2196F3;display: inline-block;margin-top: 5px;padding: 0 37.5vw 5px;'>优惠券</h3><p style='margin: 5px 0;color:red'>请先点击列表项选择领取的券</p>",e.setAttribute("style","display:flex;flex-direction:column;padding: 5px;margin-top: 5px;border: 1px solid #000;");for(var t=function(t){var n=r.couponList[t],o=document.createElement("div");o.setAttribute("style",";margin-top:5px;padding:10px 0;border:1px solid #999"),o.setAttribute("data-item","coupon"),o.innerHTML='\n                    <p style="margin-bottom:10px">类型：'+n.title+"<br>详情："+n.detail+"<br>状态："+n.couponStatus+"<br>开始时间："+n.time+"</p>\n                    <button  data-id="+t+' style="width: 80px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0; color:#fff">直接领取</button>',e.appendChild(o),o.addEventListener("click",function(t){var e=t.target;e.getAttribute("data-item")||e.parentNode==o&&"BUTTON"!=e.tagName?(n.flag?o.style.border="1px solid gray":o.style.border="3px solid red",n.flag=!n.flag):e.getAttribute("data-id")&&r.singleSend(+e.getAttribute("data-id"))})},n=0;n<this.couponList.length;n++)t(n);this.container.appendChild(e)}},{key:"send",value:function(){for(var e=this,t=0;t<this.couponList.length;t++){var n=this.couponList[t],o=this.url.replace("{couponKey}",n.couponKey);n.flag&&fetch(o,{credentials:"include"}).then(function(t){return t.json()}).then(function(t){r.default.outPutLog(e.outputTextarea,"领券结果:"+JSON.stringify(t.resultData))})}}},{key:"singleSend",value:function(t){var e=this,n=this.couponList[t],o=this.url.replace("{couponKey}",n.couponKey);fetch(o,{credentials:"include"}).then(function(t){return t.json()}).then(function(t){r.default.outPutLog(e.outputTextarea,"领券结果:"+JSON.stringify(t.resultData))})}}]),i);function i(t,e,n){p(this,i),this.url='https://ms.jr.jd.com/gw/generic/bt/h5/m/receiveCoupons?reqData={"couponKey":"{couponKey}","eid":"1"}}',this.detailurl="https://ms.jr.jd.com/gw/generic/bt/h5/m/queryLimitedInfo?callback=",this.couponList=[],this.couponParams=t,this.container=e,this.outputTextarea=n,window.addEventListener("message",this.jsonp.bind(this),!1)}n.default=o},{"../utils/utils":26}],14:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../utils/utils"),o=(c(i,[{key:"get",value:function(){var l=this;this.couponList=[],fetch(this.detailurl,{credentials:"include"}).then(function(t){return t.json()}).then(function(t){for(var e=t.rs.wholeCategoryCoupon,n=0;n<e.length;n++){var o=e[n],r=o.giftAmount,i=o.discount,a=o.quota,u=o.couponState,s=o.activtyId,d=o.limitStr,c=o.hour;l.couponList.push({giftAmount:r,activityId:s,discount:i,quota:a,hour:c,limitStr:d,couponState:u,flag:!1})}l.list()})}},{key:"list",value:function(){var r=this,e=document.createElement("div");e.innerHTML="<h3 style='border-bottom: 1px solid #2196F3;display: inline-block;margin-top: 5px;padding: 0 37.5vw 5px;'>优惠券</h3><p style='margin: 5px 0;color:red'>点击列表项选择要领取的券</p>",e.setAttribute("style","display:flex;flex-direction:column;padding: 5px;margin-top: 5px;border: 1px solid #000;");for(var t=function(t){var n=r.couponList[t],o=document.createElement("div");o.setAttribute("style","text-align:left;border:1px solid gray;border-radius: 10px;margin-top:5px;padding: 5px"),o.setAttribute("data-item","coupon"),o.innerHTML='<h3 style="user-select: none;pointer-events:none;">折扣：'+n.quota+"-"+n.discount+'</h3>\n                                    <p style="margin-bottom:10px;user-select: none;pointer-events:none;">状态：'+(1==n.couponState?"可领取":6==n.couponState?"已领光":"不可领取")+"<br/>说明："+n.limitStr+"<br/>兑换礼金："+n.giftAmount+"<br/>领取时间："+(n.hour||"现在可领")+'</p>\n                                    <button class="receive" data-id='+t+' style="width: 80px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;">直接领取</button>',e.appendChild(o),o.addEventListener("click",function(t){var e=t.target;e.getAttribute("data-item")||e.parentNode==o&&"BUTTON"!=e.tagName?(n.flag?o.style.border="1px solid gray":o.style.border="3px solid red",n.flag=!n.flag):e.getAttribute("data-id")&&r.singleSend(+e.getAttribute("data-id"))},!1)},n=0;n<this.couponList.length;n++)t(n);this.container.appendChild(e)}},{key:"send",value:function(){for(var o=this,t=function(t){var e=o.couponList[t],n=o.url.replace("{activityId}",e.activityId);e.flag&&fetch(n,{credentials:"include"}).then(function(t){return t.json()}).then(function(t){r.default.outPutLog(o.outputTextarea,e.quota+"-"+e.discount+" 领券结果:"+t.msg)})},e=0;e<this.couponList.length;e++)t(e)}},{key:"singleSend",value:function(t){var e=this,n=this.couponList[t],o=this.url.replace("{activityId}",n.activityId);fetch(o,{credentials:"include"}).then(function(t){return t.json()}).then(function(t){r.default.outPutLog(e.outputTextarea,n.quota+"-"+n.discount+" 领券结果:"+t.msg)})}}]),i);function i(t,e,n){p(this,i),this.url="https://rsp.jd.com/coupon/receiveDayCoupon/v1?locationCode=10002&lt=m&an=plus.mobile&getType=1&discount=10&couponKey=&platform=3&eventId=MPlusCoupon_Get&eid=&fp=&getType=1&activityId={activityId}",this.detailurl="https://rsp.jd.com/coupon/dayCouponList/v1/?lt=m&an=plus.mobile&couponType=0_1",this.couponList=[],this.couponParams=t,this.container=e,this.outputTextarea=n}n.default=o},{"../utils/utils":26}],15:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../utils/utils"),o=(c(i,[{key:"get",value:function(){var p=this;this.couponList=[],fetch(this.detailurl,{credentials:"include"}).then(function(t){return t.json()}).then(function(t){for(var e=t.data.hotFloor.resultList,n=0;n<e.length;n++){var o=e[n],r=o.name,i=o.disCount,a=o.quota,u=o.skuImage,s=o.skuId,d=o.time,c=o.putKey,l=o.batchId;p.couponList.push({name:r,putKey:c,skuImage:u,discount:i,quota:a,skuId:s,batchId:l,time:d,flag:!1})}p.list()})}},{key:"list",value:function(){var r=this,e=document.createElement("div");e.innerHTML="<h3 style='border-bottom: 1px solid #2196F3;display: inline-block;margin-top: 5px;padding: 0 37.5vw 5px;'>优惠券</h3><p style='margin: 5px 0;color:red'>请先点击列表项选择领取的券</p>",e.setAttribute("style","display:flex;flex-direction:column;padding: 5px;margin-top: 5px;border: 1px solid #000;");for(var t=function(t){var n=r.couponList[t],o=document.createElement("div");o.setAttribute("style","display:flex;flex-direction:row;padding:10px 0;border:1px solid gray;border-radius: 10px;margin-top:5px;padding: 5px"),o.setAttribute("data-item","coupon"),o.innerHTML='<img style="user-select: none;pointer-events:none;width:120px;height:100%;padding-right:10vw;display: block;" src="'+n.skuImage+'" />\n                                <div style="text-align: left">\n                                <h4 style="user-select: none;pointer-events:none;">'+n.name+'</h4>\n                                <p style="user-select: none;pointer-events:none;margin-bottom:10px">折扣：'+n.quota+"-"+n.discount+"<br/>下场时间："+n.time+'</p>\n                                <button  class="receive" data-id='+t+' style="width: 80px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;">直接领取</button>\n                                </div>',e.appendChild(o),o.addEventListener("click",function(t){var e=t.target;e.getAttribute("data-item")||e.parentNode==o&&"BUTTON"!=e.tagName?(n.flag?o.style.border="1px solid gray":o.style.border="3px solid red",n.flag=!n.flag):e.getAttribute("data-id")&&r.singleSend(+e.getAttribute("data-id"))})},n=0;n<this.couponList.length;n++)t(n);this.container.appendChild(e)}},{key:"send",value:function(){for(var o=this,t=function(t){var e=o.couponList[t];if(e.flag){var n='https://api.m.jd.com/client.action?functionId=receiveSeckillCoupon&body=%7B"roleId"%3A"'+encodeURIComponent(e.putKey)+'"%2C"source"%3A"home_subsidy"%2C"floorType"%3A0%2C"skuId"%3A"'+e.skuId+'"%2C"quota"%3A"'+e.quota+'"%2C"disCount"%3A"'+e.discount+'"%2C"batchId"%3A"'+e.batchId+'"%7D&client=m&appid=XPMSGC2019';fetch(n,{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){return t.json()}).then(function(t){r.default.outPutLog(o.outputTextarea,e.quota+"-"+e.discount+" 领券结果:"+t.resultMsg)})}},e=0;e<this.couponList.length;e++)t(e)}},{key:"singleSend",value:function(t){var e=this,n=this.couponList[t],o='https://api.m.jd.com/client.action?functionId=receiveSeckillCoupon&body=%7B"roleId"%3A"'+encodeURIComponent(n.putKey)+'"%2C"source"%3A"home_subsidy"%2C"floorType"%3A0%2C"skuId"%3A"'+n.skuId+'"%2C"quota"%3A"'+n.quota+'"%2C"disCount"%3A"'+n.discount+'"%2C"batchId"%3A"'+n.batchId+'"%7D&client=m&appid=XPMSGC2019';fetch(o,{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){return t.json()}).then(function(t){r.default.outPutLog(e.outputTextarea,n.quota+"-"+n.discount+" 领券结果:"+t.resultMsg)})}}]),i);function i(t,e,n){p(this,i),this.url="https://api.m.jd.com/client.action?functionId=newBabelAwardCollection",this.detailurl="https://api.m.jd.com/client.action?functionId=getBillionSubsidyInfo&body=%7B%22source%22:%22home_subsidy%22%7D&appid=XPMSGC2019",this.couponList=[],this.couponParams=t,this.container=e,this.outputTextarea=n}n.default=o},{"../utils/utils":26}],16:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=t("../utils/utils"),o=(c(i,[{key:"get",value:function(){var n=this;this.couponList=[];var t=this.detailurl.replace("{couponBusinessId}",this.couponParams.couponBusinessId);fetch(t).then(function(t){return t.json()}).then(function(t){var e=JSON.parse(t.data).baiCouponInfo;t.isSuccess?(n.couponList.push({couponBusinessId:JSON.parse(t.data).baiCouponDetailsNext.couponBusinessId,platform:e.platform,title:e.title,detail:e.detail}),n.list()):alert("请检查该页面优惠券的有效性！")})}},{key:"list",value:function(){var t=document.createElement("div");t.innerHTML="<h3 style='border-bottom: 1px solid #2196F3;display: inline-block;margin-top: 5px;padding: 0 37.5vw 5px;'>优惠券</h3><p style='margin: 5px 0;color:red'>默认领取单张券，无须选定</p>",t.setAttribute("style","display:flex;flex-direction:column;padding: 5px;margin-top: 5px;border: 1px solid #000;");for(var e=0;e<this.couponList.length;e++){var n=this.couponList[e],o=document.createElement("div");o.setAttribute("style","padding:10px 0;border-bottom:1px solid #999"),o.innerHTML="<h3>"+n.title+"</h3><p>"+n.detail+"</p><p>可用范围："+n.platform+'</p>\n                                <button style="width: 80px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;">\n                                    <a href=\'http://opencredit.jd.com/act/get/coupon?couponBusinessId='+n.couponBusinessId+'&actId=004\' target="_blank" style="color: #fff;text-decoration: none;">直接领取</a>\n                                </button>',t.appendChild(o)}this.container.appendChild(t)}},{key:"send",value:function(){for(var o=this,t=function(e){var t=o.couponList[e],n=o.url.replace("{couponBusinessId}",t.couponBusinessId);fetch(n).then(function(t){return t.json()}).then(function(t){t.isSuccess?r.default.outPutLog(o.outputTextarea,"第"+(e+1)+"张 领券结果:领取成功！}"):r.default.outPutLog(o.outputTextarea,"第"+(e+1)+"张 领券结果:领取失败！")})},e=0;e<this.couponList.length;e++)t(e)}}]),i);function i(t,e,n){p(this,i),this.url="https://opencredit.jd.com/act/get/coupon?couponBusinessId={couponBusinessId}&actId=004",this.detailurl="https://opencredit.jd.com/act/get/couponInfo?couponBusinessId={couponBusinessId}",this.couponList=[],this.couponParams=t,this.container=e,this.outputTextarea=n}n.default=o},{"../utils/utils":26}],17:[function(t,e,n){var o;Object.defineProperty(n,"__esModule",{value:!0}),(o=n.activityType||(n.activityType={}))[o.none=0]="none",o.monsterNian="monsterNian",o.brandCitySpring="brandCitySpring",o.palace="palace",o.receiveBless="ReceiveBless",o.feedBag="feedBag",o.stall="stall"},{}],18:[function(t,e,n){var o;Object.defineProperty(n,"__esModule",{value:!0}),(o=n.couponType||(n.couponType={}))[o.none=0]="none",o.receiveCoupons="receiveCoupons",o.newBabelAwardCollection="newBabelAwardCollection",o.whiteCoupon="whiteCoupon",o.purchase="purchase",o.receiveDayCoupon="receiveDayCoupon",o.secKillCoupon="secKillCoupon",o.mfreecoupon="mfreecoupon",o.coinPurchase="coinPurchase",o.GcConvert="GcConvert",o.ReceiveCoupons="ReceiveCoupons",o.ReceiveCoupon="ReceiveCoupon",o.getCouponCenter="getCouponCenter",o.exchange="exchange"},{}],19:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),(n.goodsType||(n.goodsType={})).goods="goods"},{}],20:[function(t,e,n){var a=this&&this.__awaiter||function(t,a,u,s){return new(u=u||Promise)(function(n,e){function o(t){try{i(s.next(t))}catch(t){e(t)}}function r(t){try{i(s.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?n(t.value):((e=t.value)instanceof u?e:new u(function(t){t(e)})).then(o,r)}i((s=s.apply(t,a||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});var u=t("../utils/utils"),s=t("../config/config"),o=t("../cookie/CookieHandler"),r=t("../cookie/CookieManager"),i=(c(d,[{key:"get",value:function(){this.list()}},{key:"list",value:function(){var t=this;this.content.innerHTML='\n            <div>\n                <button class="toDailyHome" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;">查看详情</button>\n                <button class="toWithdraw" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;">提鹅收蛋</button>\n            </div>\n        <p>自动收蛋间隔：<select class="toWithdrawSpan" name="toWithdrawSpan" style="border: 1px solid #333;padding: 2px;">\n            <option value ="1800000">30分钟</option>\n            <option value ="3600000">60分钟</option>\n            <option value ="5400000">90分钟</option>\n        </select>\n        </p>\n        <button class="autoToWithdraw" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">自动定时收蛋</button>\n        <button class="cancelautoToWithdraw" style="display:none;width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;">取消定时收蛋</button>\n        <button class="toGoldExchange" style="display:display;width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;">兑换金币</button>\n        <div>',this.container.appendChild(this.content);var e=u._$(".toDailyHome"),n=u._$(".toGoldExchange"),o=u._$(".autoToWithdraw"),r=u._$(".cancelautoToWithdraw"),i=u._$(".toWithdraw");i.addEventListener("click",function(){return a(t,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u.default.outPutLog(this.outputTextarea,"开始提鹅收蛋"),s.default.multiFlag?this.toWithdrawMulti():this.toWithdraw();case 2:case"end":return t.stop()}},t,this)}))}),e.addEventListener("click",function(){return a(t,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u.default.outPutLog(this.outputTextarea,"开始查看鹅鹅详情"),s.default.multiFlag?this.homeMulti():this.home();case 2:case"end":return t.stop()}},t,this)}))}),n.addEventListener("click",function(){return a(t,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u.default.outPutLog(this.outputTextarea,"开始兑换金币"),s.default.multiFlag?this.toGoldExchangeMulti():this.toGoldExchange();case 2:case"end":return t.stop()}},t,this)}))}),o.addEventListener("click",function(){o.style.display="none",r.style.display="block",u.default.outPutLog(t.outputTextarea,"自动定时收蛋已开启！"),t.autoToWithdrawTimer=window.setInterval(function(){u.default.outPutLog(t.outputTextarea,"自动定时收蛋任务开启！"),i.click()},t.toWithdrawSpan)}),r.addEventListener("click",function(){o.style.display="block",r.style.display="none",u.default.outPutLog(t.outputTextarea,"自动定时收蛋已关闭！"),window.clearInterval(t.autoToWithdrawTimer)})}},{key:"toWithdraw",value:function(o){var r=this;fetch(this.rootURI+"toWithdraw",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"reqData="+JSON.stringify(this.baseReqData)}).then(function(t){return t.json()}).then(function(t){if(0==t.resultCode){var e=t.resultData;if("0000"==e.code){var n=e.data.eggTotal;s.default.multiFlag&&o?u.default.outPutLog(r.outputTextarea,"【"+o.mark+"】 收蛋成功！当前鹅蛋数量："+n):u.default.outPutLog(r.outputTextarea,"收蛋成功！当前鹅蛋数量："+n)}else u.default.outPutLog(r.outputTextarea,""+e.msg)}else u.default.outPutLog(r.outputTextarea,""+t.resultMsg)})}},{key:"toWithdrawMulti",value:function(){var e=this;r.default.cookieArr.map(function(t){setTimeout(function(){o.CookieHandler.coverCookie(t),e.toWithdraw(t)},750*t.index)})}},{key:"home",value:function(i){var a=this;fetch(this.rootURI+"toDailyHome",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"reqData="+JSON.stringify(this.baseReqData)}).then(function(t){return t.json()}).then(function(t){if(0==t.resultCode){var e=t.resultData.data,n=(e.shareUuid,e.grassEggTotal),o=e.basketSize,r=e.availableTotal;s.default.multiFlag&&i?u.default.outPutLog(a.outputTextarea,"【"+i.mark+"】 可兑换："+r+" 未收取："+n+" 可容纳："+o+" "):u.default.outPutLog(a.outputTextarea," 可兑换："+r+" 未收取："+n+" 可容纳："+o+" ")}else u.default.outPutLog(a.outputTextarea,""+t.resultMsg)})}},{key:"homeMulti",value:function(){var e=this;r.default.cookieArr.map(function(t){setTimeout(function(){o.CookieHandler.coverCookie(t),e.home(t)},500*t.index)})}},{key:"toGoldExchange",value:function(i){var a=this;fetch(this.rootURI+"toGoldExchange",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"reqData="+JSON.stringify(this.baseReqData)}).then(function(t){return t.json()}).then(function(t){if(0==t.resultCode)if("0000"==t.resultData.code){var e=t.resultData.data,n=e.cnumber,o=e.rate,r=e.goldTotal;s.default.multiFlag&&i?u.default.outPutLog(a.outputTextarea,"【"+i.mark+"】 已兑换:"+n+" 比例："+o+" 总金币："+r):u.default.outPutLog(a.outputTextarea,"已兑换:"+n+" 比例："+o+" 总金币："+r)}else u.default.outPutLog(a.outputTextarea,""+t.resultData.msg);else s.default.multiFlag&&i&&u.default.outPutLog(a.outputTextarea,""+t.resultMsg)})}},{key:"toGoldExchangeMulti",value:function(){var e=this;r.default.cookieArr.map(function(t){setTimeout(function(){o.CookieHandler.coverCookie(t),e.toGoldExchange(t)},500*t.index)})}}]),d);function d(t,e,n){p(this,d),this.rootURI="https://ms.jr.jd.com/gw/generic/uc/h5/m/",this.baseReqData={timeSign:0,environment:"jrApp",riskDeviceInfo:"{}"},this.data=[],this.timer=1e3,this.taskToken="",this.toWithdrawSpan=18e5,this.autoToWithdrawTimer=0,this.params=t,this.container=e,this.outputTextarea=n,this.content=document.createElement("div")}n.default=i},{"../config/config":2,"../cookie/CookieHandler":3,"../cookie/CookieManager":4,"../utils/utils":26}],21:[function(t,e,n){var f=this&&this.__awaiter||function(t,a,u,s){return new(u=u||Promise)(function(n,e){function o(t){try{i(s.next(t))}catch(t){e(t)}}function r(t){try{i(s.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?n(t.value):((e=t.value)instanceof u?e:new u(function(t){t(e)})).then(o,r)}i((s=s.apply(t,a||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});var h=t("../utils/utils"),g=t("../config/config"),o=t("../cookie/CookieHandler"),m=t("../cookie/CookieManager"),r=(c(i,[{key:"get",value:function(){this.list()}},{key:"list",value:function(){var e=this;this.content.innerHTML='\n        <div><button class="Login" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;">查看猪猪详情</button>\n        <button class="Achievements" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;">可提现红包</button>\n        </div>\n        <div>\n        <button class="SignOne" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;">一键每日签到</button>\n        <button class="OpenBox" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;">一键开箱子</button>\n        </div>\n        <button class="UserBag" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">查看食物背包</button>\n        <p>喂养食物:<select class="food" name="food" style="border: 1px solid #333;padding: 2px;">\n            <option value ="1001003003">普通猪粮</option>\n            <option value ="1001003001">白菜</option>\n            <option value="1001003002">胡萝卜</option>\n            <option value="1001003004">南瓜</option>\n        </select>\n        </p>\n        <button class="AddFood" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;">喂养食物</button>\n        <button class="AddFavoriteFood" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:none">喂养喜爱食物</button>\n        <p>自动喂养间隔：<select class="foodSpan" name="foodSpan" style="border: 1px solid #333;padding: 2px;">\n            <option value ="1800000">30分钟</option>\n            <option value ="3600000">60分钟</option>\n            <option value ="5400000">90分钟</option>\n        </select>\n        </p>\n        <button class="AutoAddFood" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">自动定时喂养</button>\n        <button class="cancelAutoAddFood" style="display:none;width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;">取消定时喂养</button>\n        <div>\n        <button class="pigPetLotteryIndex" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto">大转盘情况</button>\n        <button class="LotteryPlay" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto">一键大转盘</button>\n        </div>',this.container.appendChild(this.content);var t=h._$(".OpenBox"),n=h._$(".pigPetLotteryIndex"),o=h._$(".Achievements"),r=h._$(".food"),i=h._$(".foodSpan"),a=h._$(".LotteryPlay"),u=h._$(".AutoAddFood"),s=h._$(".cancelAutoAddFood"),d=h._$(".AddFood"),c=h._$(".SignOne"),l=h._$(".UserBag"),p=h._$(".Login");this.AddFavoriteFood=h._$(".AddFavoriteFood"),r.onchange=function(t){e.foodskuId=r.value},i.onchange=function(t){e.foodSpan=+i.value},l.addEventListener("click",function(){h.default.outPutLog(e.outputTextarea,"查看我的背包"),g.default.multiFlag?e.userBagMulti():e.userBag()}),c.addEventListener("click",function(){h.default.outPutLog(e.outputTextarea,"开始每日签到"),g.default.multiFlag?e.signIndexMulti():e.signIndex()}),n.addEventListener("click",function(){h.default.outPutLog(e.outputTextarea,"开始查看当天大转盘记录"),g.default.multiFlag?e.lotteryIndexMulti():e.lotteryIndex()}),o.addEventListener("click",function(){h.default.outPutLog(e.outputTextarea,"开始查看待提现红包"),g.default.multiFlag?e.achievementsMulti():e.achievements()}),d.addEventListener("click",function(){return f(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:h.default.outPutLog(this.outputTextarea,"开始喂养猪猪"),g.default.multiFlag?this.addFoodMulti():this.addFood();case 2:case"end":return t.stop()}},t,this)}))}),this.AddFavoriteFood.addEventListener("click",function(){h.default.outPutLog(e.outputTextarea,"开始喂养喜爱食物给猪猪"),g.default.multiFlag?e.addFoodMulti(!0):e.addFood(!0)}),t.addEventListener("click",function(){return f(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.openBoxFlag=!0,h.default.outPutLog(this.outputTextarea,"开始一键开箱子"),g.default.multiFlag&&m.default.cookieArr.map(function(t){t.flag=!0});case 3:if(g.default.multiFlag)return t.next=6,this.openBoxMulti("pigPetOpenBox");t.next=9;break;case 6:m.default.cookieArr.every(function(t){return!t.flag})&&(this.openBoxFlag=!1,h.default.outPutLog(this.outputTextarea,"所有账号今天已经木有开盒子机会了~")),t.next=11;break;case 9:return t.next=11,this.openBox("pigPetOpenBox");case 11:if(this.openBoxFlag){t.next=3;break}case 12:case"end":return t.stop()}},t,this)}))}),p.addEventListener("click",function(){return f(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:h.default.outPutLog(this.outputTextarea,"开始查看猪猪详情"),g.default.multiFlag?this.loginMulti():this.login();case 2:case"end":return t.stop()}},t,this)}))}),u.addEventListener("click",function(){u.style.display="none",s.style.display="block",h.default.outPutLog(e.outputTextarea,"自动定时喂养已开启！"),e.autoAddFoodTimer=window.setInterval(function(){h.default.outPutLog(e.outputTextarea,"自动定时喂养任务开启！"),d.click()},e.foodSpan)}),s.addEventListener("click",function(){u.style.display="block",s.style.display="none",h.default.outPutLog(e.outputTextarea,"自动定时喂养已关闭！"),window.clearInterval(e.autoAddFoodTimer)}),a.addEventListener("click",function(){h.default.outPutLog(e.outputTextarea,"开始大转盘抽奖"),g.default.multiFlag?e.lotteryPlayMulti():e.lotteryPlay()})}},{key:"lotteryPlay",value:function(i){var a=this;fetch(this.rootURI+"pigPetLotteryPlay",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"reqData="+JSON.stringify(this.baseReqData)}).then(function(t){return t.json()}).then(function(t){if(0==t.resultCode){var e=t.resultData;if(0==e.resultCode){var n=e.resultData.award;if(n){var o=n.name,r=n.count;g.default.multiFlag&&i?h.default.outPutLog(a.outputTextarea,"【"+i.mark+"】 获得【"+o+" * "+r+"】！"):h.default.outPutLog(a.outputTextarea,"获得【"+o+" * "+r+"】！")}else g.default.multiFlag&&i?h.default.outPutLog(a.outputTextarea,"【"+i.mark+"】 什么也木有抽到~"):h.default.outPutLog(a.outputTextarea,""+t.resultData.resultMsg)}}else h.default.outPutLog(a.outputTextarea,""+t.resultMsg)})}},{key:"lotteryPlayMulti",value:function(){var e=this;m.default.cookieArr.map(function(t){setTimeout(function(){o.CookieHandler.coverCookie(t),e.lotteryPlay(t)},750*t.index)})}},{key:"openBoxMulti",value:function(n){return f(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(m.default.cookieArr.map(function(d){return f(e,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(s){setTimeout(function(){return f(e,void 0,void 0,regeneratorRuntime.mark(function t(){var u=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.CookieHandler.coverCookie(d),d.flag){t.next=6;break}return s(),t.abrupt("return");case 6:return t.next=8,fetch(""+this.rootURI+n,{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"reqData="+JSON.stringify(Object.assign(this.baseReqData,{t:h.default.getTimestamp()}))}).then(function(t){return t.json()}).then(function(t){var e,n,o,r;if(0==t.resultCode){var i=t.resultData.resultCode;if(0==i){var a=t.resultData.resultData;h.default.outPutLog(u.outputTextarea,"【"+d.mark+'】:获得【"'+((null===(n=null===(e=a)||void 0===e?void 0:e.award)||void 0===n?void 0:n.name)?null===(r=null===(o=a)||void 0===o?void 0:o.award)||void 0===r?void 0:r.name:"空箱子")+"】")}else 420==i&&(d.flag=!1,h.default.outPutLog(u.outputTextarea,"【"+d.mark+"】:今天已经木有开盒子机会了~"))}else h.default.outPutLog(u.outputTextarea,"【"+d.mark+"】:"+t.resultMsg);s()});case 8:case"end":return t.stop()}},t,this)}))},g.default.timeoutSpan+h.default.random(300,500))});case 2:case"end":return t.stop()}},t,this)}))}));case 2:case"end":return t.stop()}},t,this)}))}},{key:"openBox",value:function(n){return f(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(u){setTimeout(function(){return f(e,void 0,void 0,regeneratorRuntime.mark(function t(){var a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(""+this.rootURI+n,{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"reqData="+JSON.stringify(Object.assign(this.baseReqData,{t:h.default.getTimestamp()}))}).then(function(t){return t.json()}).then(function(t){var e,n,o,r;if(0==t.resultCode)if(0==t.resultData.resultCode){var i=t.resultData.resultData;h.default.outPutLog(a.outputTextarea,(null===(n=null===(e=i)||void 0===e?void 0:e.award)||void 0===n?void 0:n.name)?"获得:"+(null===(r=null===(o=i)||void 0===o?void 0:o.award)||void 0===r?void 0:r.name):"这是个空箱子")}else a.openBoxFlag=!a.openBoxFlag,h.default.outPutLog(a.outputTextarea,"今天已经木有开盒子机会了~");else h.default.outPutLog(a.outputTextarea,""+t.resultMsg);u()});case 2:case"end":return t.stop()}},t,this)}))},g.default.timeoutSpan+h.default.random(300,500))});case 2:case"end":return t.stop()}},t,this)}))}},{key:"addFood",value:function(t,e){var n=this,o=0<arguments.length&&void 0!==t&&t,r=e,i=r?o?r.favoriteFood:this.foodskuId:o?this.favFoodMap[this.favoriteFood]:this.foodskuId;fetch(this.rootURI+"pigPetAddFood",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"reqData="+JSON.stringify(Object.assign(this.baseReqData,{skuId:i}))}).then(function(t){return t.json()}).then(function(t){if(0==t.resultCode){var e=t.resultData;0==e.resultCode?g.default.multiFlag&&r?h.default.outPutLog(n.outputTextarea,"【"+r.mark+"】 喂养成功！"):h.default.outPutLog(n.outputTextarea,"喂养成功！"):406==e.resultCode&&(g.default.multiFlag&&r?h.default.outPutLog(n.outputTextarea,"【"+r.mark+"】 猪猪现在还有粮食哦~"):h.default.outPutLog(n.outputTextarea,""+t.resultData.resultMsg))}else h.default.outPutLog(n.outputTextarea,""+t.resultMsg)})}},{key:"addFoodMulti",value:function(t){var e=this,n=0<arguments.length&&void 0!==t&&t;m.default.cookieArr.map(function(t){setTimeout(function(){o.CookieHandler.coverCookie(t),e.addFood(n,t)},750*t.index)})}},{key:"login",value:function(c){var l=this;fetch(this.rootURI+"pigPetLogin",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"reqData="+JSON.stringify(this.baseReqData)}).then(function(t){return t.json()}).then(function(t){var e,n,o;if(0==t.resultCode){var r=t.resultData.resultData;if(r.hasPig){l.AddFavoriteFood.style.display="block";var i=null===(n=null===(e=r)||void 0===e?void 0:e.cote)||void 0===n?void 0:n.pig,a=null===(o=i)||void 0===o?void 0:o.pigName,u=i.percent,s=i.weight,d=i.favFood;g.default.multiFlag&&c?(c.favoriteFood=l.favFoodMap[d],h.default.outPutLog(l.outputTextarea,"【"+c.mark+"】 猪猪："+a+" 价值："+u+"% 体重："+s+" 喜欢："+d)):(l.favoriteFood=d,h.default.outPutLog(l.outputTextarea,"猪猪："+a+" 价值："+u+"% 体重："+s+" 喜欢："+d))}else h.default.outPutLog(l.outputTextarea,"该账号尚未领养猪猪哦！")}else h.default.outPutLog(l.outputTextarea,""+t.resultMsg)})}},{key:"loginMulti",value:function(){var e=this;m.default.cookieArr.map(function(t){setTimeout(function(){o.CookieHandler.coverCookie(t),e.login(t)},500*t.index)})}},{key:"achievements",value:function(a){var u=this;fetch(this.rootURI+"pigPetAchievements",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"reqData="+JSON.stringify(this.baseReqData)}).then(function(t){return t.json()}).then(function(t){var e,n;if(0==t.resultCode){var o=t.resultData.resultData;if(0==t.resultData.resultCode){var r=null===(e=o)||void 0===e?void 0:e.currentCash,i=null===(n=o)||void 0===n?void 0:n.limitCash;g.default.multiFlag&&a?h.default.outPutLog(u.outputTextarea,"【"+a.mark+"】 待提现红包："+r/100+"元 满"+i/100+"元提现"):h.default.outPutLog(u.outputTextarea,"待提现红包："+r/100+"元 满"+i+"元提现")}else h.default.outPutLog(u.outputTextarea,""+t.resultData.resultMsg)}else g.default.multiFlag&&a&&h.default.outPutLog(u.outputTextarea,""+t.resultMsg)})}},{key:"achievementsMulti",value:function(){var e=this;m.default.cookieArr.map(function(t){setTimeout(function(){o.CookieHandler.coverCookie(t),e.achievements(t)},500*t.index)})}},{key:"lotteryIndex",value:function(c){var l=this;fetch(this.rootURI+"pigPetLotteryIndex",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"reqData="+JSON.stringify(this.baseReqData)}).then(function(t){return t.json()}).then(function(t){var e,n,o,r;if(0==t.resultCode){var i=t.resultData.resultData;if(0==t.resultData.resultCode){var a=null===(e=i)||void 0===e?void 0:e.currentCount,u=null===(n=i)||void 0===n?void 0:n.coinCount,s=null===(o=i)||void 0===o?void 0:o.price,d=null===(r=i)||void 0===r?void 0:r.nextFreeTime;g.default.multiFlag&&c?h.default.outPutLog(l.outputTextarea,"【"+c.mark+"】 当前可抽奖次数："+a+" 距下一次免费抽奖时间："+d+"毫秒 金币抽奖次数："+u+" 需花费金币："+s):h.default.outPutLog(l.outputTextarea,"当前可抽奖次数："+a+" 距下一次免费抽奖时间："+d+"毫秒 金币抽奖次数："+u+" 需花费金币："+s)}else h.default.outPutLog(l.outputTextarea,""+t.resultData.resultMsg)}else g.default.multiFlag&&c&&h.default.outPutLog(l.outputTextarea,""+t.resultMsg)})}},{key:"lotteryIndexMulti",value:function(){var e=this;m.default.cookieArr.map(function(t){setTimeout(function(){o.CookieHandler.coverCookie(t),e.lotteryIndex(t)},500*t.index)})}},{key:"signOne",value:function(u){var s=this;fetch(this.rootURI+"pigPetSignOne?_="+h.default.getTimestamp(),{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"reqData="+JSON.stringify(Object.assign(this.baseReqData,{no:u?u.signNo:this.signNo}))}).then(function(t){return t.json()}).then(function(t){var e,n,o;if(0==t.resultCode){var r=t.resultData.resultData;if(0==t.resultData.resultCode){var i=null===(e=r)||void 0===e?void 0:e.today,a=null===(o=null===(n=r)||void 0===n?void 0:n.award)||void 0===o?void 0:o.name;g.default.multiFlag&&u?h.default.outPutLog(s.outputTextarea,"【"+u.mark+"】 已签到"+i+"天 获得奖励："+a):h.default.outPutLog(s.outputTextarea,"已签到"+i+"天 获得奖励："+a)}else h.default.outPutLog(s.outputTextarea,""+t.resultData.resultMsg)}else g.default.multiFlag&&u&&h.default.outPutLog(s.outputTextarea,""+t.resultMsg)})}},{key:"signIndex",value:function(r){var i=this;fetch(this.rootURI+"pigPetSignIndex?_="+h.default.getTimestamp(),{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"reqData="+JSON.stringify(this.baseReqData)}).then(function(t){return t.json()}).then(function(t){var e;if(0==t.resultCode){var n=t.resultData.resultData;if(0==t.resultData.resultCode){var o=null===(e=n)||void 0===e?void 0:e.today;g.default.multiFlag&&r?(r.signNo=o,h.default.outPutLog(i.outputTextarea,"【"+r.mark+"】 已签到"+o+"天 "),i.signOne(r)):(i.signNo=o,h.default.outPutLog(i.outputTextarea,"已签到"+o+"天"),i.signOne())}else h.default.outPutLog(i.outputTextarea,""+t.resultData.resultMsg)}else g.default.multiFlag&&r&&h.default.outPutLog(i.outputTextarea,""+t.resultMsg)})}},{key:"signIndexMulti",value:function(){var e=this;m.default.cookieArr.map(function(t){setTimeout(function(){o.CookieHandler.coverCookie(t),e.signIndex(t)},500*t.index)})}},{key:"userBag",value:function(i){var a=this;fetch(this.rootURI+"pigPetUserBag?_="+h.default.getTimestamp(),{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"reqData="+JSON.stringify(Object.assign(this.baseReqData,{category:"1001"}))}).then(function(t){return t.json()}).then(function(t){var e;if(0==t.resultCode){var n=t.resultData.resultData;if(0==t.resultData.resultCode){var o=null===(e=n)||void 0===e?void 0:e.goods,r="";g.default.multiFlag&&i?(r+=o.map(function(t){return"\n名称:"+t.goodsName+" 数量："+t.count+"g"}),h.default.outPutLog(a.outputTextarea,"【"+i.mark+"】 ----食物背包一览----"+r)):(r+=o.map(function(t){return"\n名称:"+t.goodsName+" 数量："+t.count+"g"}),h.default.outPutLog(a.outputTextarea,"----食物背包一览----"+r))}else h.default.outPutLog(a.outputTextarea,""+t.resultData.resultMsg)}else g.default.multiFlag&&i&&h.default.outPutLog(a.outputTextarea,""+t.resultMsg)})}},{key:"userBagMulti",value:function(){var e=this;m.default.cookieArr.map(function(t){setTimeout(function(){o.CookieHandler.coverCookie(t),e.userBag(t)},500*t.index)})}}]),i);function i(t,e,n){p(this,i),this.rootURI="https://ms.jr.jd.com/gw/generic/uc/h5/m/",this.baseReqData={source:0,channelLV:"yqs",riskDeviceParam:"{}"},this.detailurl="https://api.m.jd.com/client.action?functionId=bombnian_getTaskDetail",this.data=[],this.timer=1e3,this.taskToken="",this.favFoodMap={"南瓜":"1001003004","胡萝卜":"1001003002","白菜":"1001003001","普通猪粮":"1001003003"},this.openBoxFlag=!1,this.foodskuId="1001003004",this.foodSpan=18e5,this.autoAddFoodTimer=0,this.signNo=1,this.favoriteFood="",this.params=t,this.container=e,this.outputTextarea=n,this.content=document.createElement("div")}n.default=r},{"../config/config":2,"../cookie/CookieHandler":3,"../cookie/CookieManager":4,"../utils/utils":26}],22:[function(t,e,n){var o=this&&this.__awaiter||function(t,a,u,s){return new(u=u||Promise)(function(n,e){function o(t){try{i(s.next(t))}catch(t){e(t)}}function r(t){try{i(s.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?n(t.value):((e=t.value)instanceof u?e:new u(function(t){t(e)})).then(o,r)}i((s=s.apply(t,a||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../utils/utils"),a=t("../config/config"),r=t("../cookie/CookieHandler"),u=t("../cookie/CookieManager"),s=(c(d,[{key:"get",value:function(){this.list()}},{key:"list",value:function(){var t=this;this.content.innerHTML='\n            <div>\n                <button class="lottery" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;">金币天天抽奖</button>\n                <button class="harvest" style="width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;">一键收金果</button>\n            </div>',this.container.appendChild(this.content),i._$(".lottery").addEventListener("click",function(){return o(t,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i.default.outPutLog(this.outputTextarea,"开始金币天天抽奖"),a.default.multiFlag?this.lotteryMulti():this.lottery();case 2:case"end":return t.stop()}},t,this)}))})}},{key:"lottery",value:function(o){var r=this;fetch(this.rootURI+"lottery?reqData="+encodeURI(JSON.stringify(Object.assign({t:(new Date).getTime()},this.baseReqData))),{mode:"no-cors",credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(t){return t.json()}).then(function(t){if(0==t.resultCode){var e=t.resultData;if("0000"==e.code){var n=e.data.awardName;a.default.multiFlag&&o?i.default.outPutLog(r.outputTextarea,"【"+o.mark+"】 获得奖品："+n):i.default.outPutLog(r.outputTextarea,"获得奖品："+n)}else i.default.outPutLog(r.outputTextarea,""+e.msg)}else i.default.outPutLog(r.outputTextarea,""+t.resultMsg)})}},{key:"lotteryMulti",value:function(){var e=this;u.default.cookieArr.map(function(t){setTimeout(function(){r.CookieHandler.coverCookie(t),e.lottery(t)},750*t.index)})}}]),d);function d(t,e,n){p(this,d),this.rootURI="https://ms.jr.jd.com/gw/generic/hy/h5/m/",this.baseReqData={actKey:"AbeQry"},this.data=[],this.timer=1e3,this.taskToken="",this.openBoxFlag=!1,this.foodskuId="1001003004",this.harvestSpan=18e5,this.autoToWithdrawTimer=0,this.signNo=1,this.favoriteFood="",this.params=t,this.container=e,this.outputTextarea=n,this.content=document.createElement("div")}n.default=s},{"../config/config":2,"../cookie/CookieHandler":3,"../cookie/CookieManager":4,"../utils/utils":26}],23:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var i=t("../utils/utils"),r=t("../config/config"),u=t("../utils/fetch-jsonp"),o=(c(s,[{key:"get",value:function(){var e=this;this.goodsMsgArr=[],Promise.all(this.goodsIdArr.map(function(t){return e.getMsg(t)})).then(function(t){e.goodsMsgArr=t,Promise.all(e.goodsMsgArr.map(function(t){return e.getStock(t)})).then(function(t){e.goodsMsgArr=t,e.list()})})}},{key:"getMsg",value:function(r){var e=this.detailURL.replace("{skuid}",r);return new Promise(function(o,t){i.default.loadiFrame(e).then(function(t){var e=t.contentWindow.pageConfig.product,n={skuid:r,name:e.name,src:e.src,cat:e.cat,venderId:e.venderId};document.body.removeChild(t),o(n)})})}},{key:"getStock",value:function(r){var e=this.stockURL.replace("{skuId}",r.skuid).replace("{venderId}",r.venderId).replace("{cat}",r.cat).replace("{area}",this.areaId);return new Promise(function(o,t){u.default.fetchJsonp(e).then(function(t){return t.json()}).then(function(t){var e=t.stock,n=e.area;r.stockState=e.StockStateName,r.area=n.provinceName+"-"+n.cityName+"-"+n.countyName,o(r)})})}},{key:"push",value:function(){this.goodsIdArr.push("1")}},{key:"list",value:function(){var t=document.createElement("div");t.setAttribute("style","display:flex;flex-direction:column;padding: 5px;margin-top: 5px;border: 1px solid #000;");for(var e=0;e<this.goodsMsgArr.length;e++){var n=this.goodsMsgArr[e],o=document.createElement("div");o.setAttribute("style","display:flex;flex-direction:row;border:1px solid gray;border-radius: 10px;margin-top:5px;padding: 5px"),o.innerHTML='<img style="user-select: none;pointer-events:none;width:120px;height:120px;display: block;" src="'+r.default.JDIMGSourcesURL+n.src+'" />\n            <div">\n                <h2 width="60vw">商品名称：'+n.name+'</h2>\n                <p style="font-weight:700;margin-bottom:10px">状态：<span style="color:red">'+n.stockState+'</span>\n                <br>地区：<span style="color:red">'+n.area+'</span></p>\n                <button style="width: 100px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;">\n                    <a href=\'https://skunotify.jd.com/storenotify.html?skuId='+n.skuid+'\' target="_blank" style="color: #fff;text-decoration: none;">预约自动下单</a>\n                </button>\n                <button style="width: 100px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;">\n                    <a href=\'//cart.jd.com/gate.action?pid='+n.skuid+'&pcount=1&ptype=1\' target="_blank" style="color: #fff;text-decoration: none;">加入购物车</a>\n                </button>\n                <br>\n                <button style="width: 100px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;">\n                    <a href=\'https://p.m.jd.com/norder/order.action?wareId='+n.skuid+'&wareNum=1&enterOrder=true\' target="_blank" style="color: #fff;text-decoration: none;">订单结算</a>\n                </button>\n            </div>',t.appendChild(o)}this.container.appendChild(t)}},{key:"buildOperate",value:function(){}}]),s);function s(t,e,n){var a=this;p(this,s),this.areaId="1_72_0_0",this.areaIdArr=[{id:"1_72_0_0",dec:"北京 朝阳区"}],this.goodsIdArr=[],this.goodsMsgArr=[],this.detailURL="https://item.jd.com/{skuid}.html",this.stockURL="https://c0.3.cn/stock?skuId={skuId}&area={area}&venderId={venderId}&cat={cat}",n&&this.goodsIdArr.push(n),this.container=t,this.outputTextarea=e,u.default.fetchJsonp("https://cd.jd.com/usual/address").then(function(t){return t.json()}).then(function(i){0!==Object.keys(i).length&&(a.areaIdArr=[],Object.keys(i).map(function(t,e){var n=i[t],o=n.provinceId+"_"+n.cityId+"_"+(n.countyId?n.countyId:0)+"_"+(n.townId?n.townId:0),r=n.areaName;0==e&&(a.areaId=o),a.areaIdArr.push({id:o,dec:r})}))})}n.default=o},{"../config/config":2,"../utils/fetch-jsonp":25,"../utils/utils":26}],24:[function(t,e,n){this&&this.__awaiter;Object.defineProperty(n,"__esModule",{value:!0});var f=t("./goods/goods"),h=t("./utils/utils"),g=t("./config/config"),m=(t("./cookie/CookieManager"),t("./cookie/CookieHandler"),t("./coupons/newBabelAwardCollection")),v=t("./coupons/whtieCoupon"),x=t("./coupons/purchase"),b=t("./coupons/receiveDayCoupon"),y=t("./coupons/secKillCoupon"),k=t("./coupons/mfreecoupon"),w=t("./coupons/coinPurchase"),T=t("./coupons/gcConvert"),L=t("./coupons/receiveCoupons"),I=t("./coupons/receiveCoupon"),P=t("./coupons/getCouponCenter"),C=t("./coupons/exchange"),R=t("./enum/activityType"),S=t("./enum/couponType"),A=t("./enum/goodsType"),F=(t("./game/btgoose"),t("./game/cloudpig"),t("./game/signInCenter"),t("./activitys/stall")),j=void 0,_=void 0,D=void 0,E=void 0,M=!0,B=document.createElement("div"),O=document.createElement("div"),N=document.createElement("div"),d=document.createElement("div"),c=document.createElement("input"),l=document.createElement("input"),p=document.createElement("button"),H=document.createElement("div"),U=document.createElement("textarea"),q=document.createElement("div"),J=document.createElement("div");O.setAttribute("id","UATipsDiv");function G(){var t,e,n,o,r,i,a,u,s;H.setAttribute("style","border: 1px solid #000;margin: 10px 0;"),H.innerHTML="<h3 style='border-bottom: 1px solid #2196F3;display: inline-block;margin: 5px;padding: 0 25vw 5px;'>操作区</h3>",j&&(t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div"),o=document.createElement("button"),r=document.createElement("input"),i=document.createElement("button"),a=document.createElement("input"),u=document.createElement("button"),s=document.createElement("div"),r.type="text",r.placeholder="请输入获取时间的刷新频率【毫秒】",r.setAttribute("style","width:80vw;height: 25px;border: solid 1px #000;border-radius: 5px;margin: 10px auto;display: block;"),i.innerHTML="重置刷新频率",i.setAttribute("style","width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;"),i.addEventListener("click",function(){var t=Math.trunc(+r.value);if(!t)return alert("请检查输入的刷新频率是否有误！(只能为大于0的数字)"),!1;g.default.intervalSpan=t,window.clearInterval(g.default.intervalId),g.default.intervalId=window.setInterval($,g.default.intervalSpan)}),n.innerHTML='<h3>定时时间使用年月日+24小时制</h3><p style="color:red">零点领券设置参考<br>刷新频率:500 | 定时时间：2020-01-01 23:59:59:490<br>tips:部分券其实是提前发放的</p>',c.type="text",c.placeholder="定时领券时间【格式:2020-01-01 09:59:59:950】",c.setAttribute("style","width:80vw;height: 25px;border: solid 1px #000;border-radius: 5px;margin: 10px;"),l.type="text",l.placeholder="领券提交次数【默认：1次】",l.setAttribute("style","width:80vw;height: 25px;border: solid 1px #000;border-radius: 5px;margin: 10px;"),a.type="text",a.placeholder="请输入重复领券的提交频率【默认：500毫秒】",a.setAttribute("style","width:80vw;height: 25px;border: solid 1px #000;border-radius: 5px;margin: 10px auto;display: block;"),p.innerHTML="定时指定领取",p.addEventListener("click",function(){g.default.postSpan=0<parseInt(a.value)?parseInt(a.value):500,g.default.postCount=0<parseInt(l.value)?parseInt(l.value):1;var t=h.default.formateTime(c.value);if(!t||t<0)return alert("请检查定时领券时间的格式是否有误！"),!1;g.default.timingFlag=!g.default.timingFlag,g.default.startTime=t,c.disabled=g.default.timingFlag,l.disabled=g.default.timingFlag,g.default.timingFlag?(p.innerHTML="取消定时领取",h.default.outPutLog(U,"已开启定时领取！定时领取时间："+c.value)):(p.innerHTML="定时指定领取",h.default.outPutLog(U,"已关闭定时领取"))}),o.addEventListener("click",function(){j&&j.send(U)}),p.setAttribute("style","width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px;"),o.innerHTML="一键指定领取",o.setAttribute("style","width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px;"),H.append(s),s.append(d),s.append(r),s.append(i),s.append(a),s.append(u),H.append(t),t.append(n),t.append(c),t.append(l),t.append(a),t.append(e),e.append(o),e.append(p)),J.innerHTML="当前京东帐号：<a href='https://plogin.m.jd.com/login/login' target='_blank'>点击登录</a>",H.append(J),B.append(H),function(){q.style.display="none",U.setAttribute("style","width: 90vw;height: 40vw;border: 1px solid #868686;border-radius: 10px;overflow-y: scroll;margin:5px auto;"),U.setAttribute("disabled","disabled");var t=document.createElement("button");t.innerHTML="清空日志",t.setAttribute("style","width: 120px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px;"),t.addEventListener("click",function(){U.value=""}),q.append(U),q.append(t),H.append(q)}()}function $(){fetch(g.default.JDTimeInfoURL).then(function(t){return t.json()}).then(function(t){if(g.default.serverTime=h.default.formatDate(t.time),g.default.localeTime=new Date(+t.time).toLocaleString()+":"+g.default.serverTime.substr(-3,3),d.innerHTML="京东时间："+g.default.localeTime+"<br/>当前获取时间的间隔频率："+g.default.intervalSpan+"毫秒",g.default.timingFlag&&g.default.startTime<=+g.default.serverTime){if(h.default.outPutLog(U,"定时领取开始！"),h.default.outPutLog(U,"当前京东服务器时间："+g.default.localeTime),g.default.timingFlag=!g.default.timingFlag,j)for(var e=0;e<g.default.postCount;e++)!function(t){setTimeout(function(){h.default.outPutLog(U,"第"+(t+1)+"次提交！"),j.send(U)},t*g.default.postSpan)}(e);c.disabled=g.default.timingFlag,l.disabled=g.default.timingFlag,p.innerHTML="定时指定领取",h.default.outPutLog(U,"定时领取已结束！")}})}var o;console.clear(),window.console&&(console.group("%c京东领券助手","color:#009a61; font-size: 36px; font-weight: 400"),console.log("%c本插件仅供学习交流使用\n作者:krapnik \n既然按了F12，为何不去GitHub顺便给个star\ngithub:https://github.com/krapnikkk/JDCouponAssistant","color:#009a61"),console.groupEnd()),function(t){switch(h._$("html").style.fontSize="18px",document.body.innerHTML="",document.body.style.overflow="scroll",document.body.style.backgroundColor="#ffffff",document.body.style.textAlign="center",document.body.style.maxWidth="100vw",B.setAttribute("style","border: 1px solid #000;margin: 10px 0;padding: 5px;margin: 5px;"),N.innerHTML='<h1 style="font-weight:700">'+g.default.title+" "+g.default.version+"</h1>\n                        <h3>author:"+g.default.author+'</h3>\n                        <div style="display: flex;flex-direction: row;justify-content: center;">\n                        <iframe src="https://ghbtns.com/github-btn.html?user=krapnikkk&repo=JDCouponAssistant&type=star&count=true" frameborder="0" scrolling="0" width="90px" height="21px"></iframe>\n                        <a href="tencent://message/?uin=708873725Menu=yes" target="_blank" title="发起QQ聊天"><img src="http://bizapp.qq.com/webimg/01_online.gif" alt="QQ" style="margin:0px;"></a>\n                        </div>\n                        <button style="font-size:18px;font-weight:bold;color:#000;position:relative;width: 200px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block">\n                            把按钮拖动到书签栏\n                            <a style="font-size:0px;width:200px;height:30px;display:inline-block;position:absolute;left:0;top:0;" href="javascript:!function(){function c(){var d=document.getElementById("loadJs"),e=document.createElement("script");d&&document.getElementsByTagName("head")[0].removeChild(d),e.id="loadJs",e.type="text/javascript",e.onerror=function(){return b==a.length-1?(alert("%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%E6%BA%90%E4%BB%A3%E7%A0%81%E5%8A%A0%E8%BD%BD%E5%BC%82%E5%B8%B8%EF%BC%81%E8%AF%B7%E6%A3%80%E6%9F%A5%E7%BD%91%E7%BB%9C%E6%83%85%E5%86%B5%EF%BC%81"),void 0):(b++,c(),void 0)},e.src=a[b],document.getElementsByTagName("head")[0].appendChild(e)}var a=["https://krapnik.coding.net/p/JD/d/JDCouponAssistant/git/raw/master/bundle.js","https://gitee.com/krapnik/codes/o9nwsxjuy6crftdi824aq79/raw?blob_name=JDCouponAssistant.js","https://raw.githubusercontent.com/krapnikkk/JDCouponAssistant/master/dist/bundle.js"],b=0;c()}();">\n                                京东领券助手\n                            </a>\n                        </button>\n                        <h1 style="color:red;font-weight: 700;font-size: 18px;">脚本非自动执行，所有操作按钮在最下面！</h1>',B.append(N),document.body.append(B),t){case A.goodsType.goods:var e=g.default.locationHref.match(/jd.com\/(\S*).html/)[1];_=new f.default(B,U,e);break;case S.couponType.newBabelAwardCollection:var n=g.default.locationHref.match(/active\/(\S*)\/index/)[1];j=new m.default({activityId:n},B,U);break;case S.couponType.whiteCoupon:var o=h.default.GetQueryString("couponBusinessId");j=new v.default({couponBusinessId:o},B,U);break;case S.couponType.purchase:var r=h.default.GetQueryString("pid");j=new x.default({pid:r},B,U);break;case S.couponType.coinPurchase:var i=h.default.GetQueryString("gid");j=new w.default({pid:i},B,U);break;case S.couponType.receiveDayCoupon:j=new b.default(null,B,U);break;case S.couponType.secKillCoupon:j=new y.default(null,B,U);break;case S.couponType.GcConvert:j=new T.default(null,B,U);break;case S.couponType.mfreecoupon:var a=h.default.GetQueryString("roleId"),u=h.default.GetQueryString("key");j=new k.default({roleId:a,key:u},B,U);break;case S.couponType.ReceiveCoupons:j=new L.default(null,B,U);break;case S.couponType.ReceiveCoupon:j=new I.default(null,B,U);break;case S.couponType.getCouponCenter:j=new P.default(null,B,U);break;case S.couponType.exchange:var s=h.default.GetQueryString("id");j=new C.default({itemId:s},B,U);break;case R.activityType.stall:E=new F.default(B,U),g.default.UAFlag=!0}var d,c,l,p;g.default.UAFlag&&(O.innerHTML='<div style="border: 1px solid #000;margin: 10px 0;font-weight:bold"><h2>该活动需要设置user-Agent为京东APP</h2><p><a style="color:red" onclick=Utils.copyText(Config.NetdiskURL)>点击下载教程视频</a></p><p>部分浏览器插件会覆盖UA设置，请自行排查并关闭</p><p>【比如：京价保】</p><button style="width: 200px;height:30px;background-color: #2196F3;border-radius: 5px;border: 0;color:#fff;margin:5px auto;display:block" onclick=Utils.copyText(Config.JDAppUA)>点击一键复制User-Agent</button></div>',B.append(O)),M&&(G(),h.default.createJsonp(g.default.JDUserInfoURL+"&callback=getLoginMsg")),(d=document.createElement("div")).setAttribute("style","padding: 5px;border: 1px solid #000"),d.innerHTML='<h3 style=\'border-bottom: 1px solid #2196F3;display: inline-block;margin: 5px;\'>推广活动</h3>\n    <p style="padding: 5px;color:red;font-weight:bold;"><a style="color:red" onclick=Utils.copyText("https://u.jd.com/toUGpaC")>签到两天得25元全品券</a></p>\n    <p style="padding: 5px;color:red;font-weight:bold;"><a style="color:red" onclick=Utils.copyText("https://u.jd.com/tbFM0kn")>每天领取三个京东红包</a></p>\n    <p style="padding: 5px;color:red;font-weight:bold;"><a style="color:red" onclick=Utils.copyText("https://u.jd.com/tbFM0kn?s=iBRXA")>为作者集火力值</a></p>',B.append(d),j?(g.default.intervalId=window.setInterval($,g.default.intervalSpan),j.get()):E?(l=document.createElement("div"),(p=document.createElement("input")).setAttribute("style","width:80vw;height: 25px;font-size:14px;border: solid 1px #000;border-radius: 5px;margin: 10px auto;display: block;"),p.placeholder="请输入任务的提交间隔时间【默认:"+g.default.timeoutSpan+"毫秒】",l.innerHTML='<p style="font-size:14px;">任务提交时间将会在设置提交间隔时间的基础上随机增加300~500毫秒</p>',l.append(p),p.onchange=function(){h.default.isNumber(+p.value)&&(g.default.timeoutSpan=+p.value||1500)},H.append(l),E.get()):_?_.get():D?D.get():(h.default.loadCss("https://meyerweb.com/eric/tools/css/reset/reset200802.css"),(c=document.createElement("h4")).innerHTML='<h4>页面地址暂未被扩展或者有误！</h4><p>本插件只能在指定活动地址或领券地址使用！</p><p>如果这是个活动地址或领券地址，<a href="tencent://message/?uin=708873725Menu=yes" target="_blank" title="发起QQ聊天">联系作者</a>扩展~</p><a style="color:red" onclick=Utils.copyText(Config.NetdiskURL)>点击下载教程视频</a>',N.append(c))}((o=S.couponType.none,window.location.host.includes("jd.com")?((g.default.locationHref.includes("item.jd.com/")||g.default.locationHref.includes("item.m.jd.com/product/"))&&(o=A.goodsType.goods),window.__react_data__?o=S.couponType.newBabelAwardCollection:window.Queries?o=S.couponType.whiteCoupon:g.default.locationHref.includes("gcmall/index.html#/details?pid=")?o=S.couponType.purchase:g.default.locationHref.includes("member/gcmall/index.html#/details?gid")?o=S.couponType.coinPurchase:g.default.locationHref.includes("plus.m.jd.com/coupon/")?o=S.couponType.receiveDayCoupon:g.default.locationHref.includes("9GcConvert")?o=S.couponType.GcConvert:/babelDiy\/(\S*)\/index/.test(g.default.locationHref)?o=S.couponType.secKillCoupon:/coupons\/show.action\?key=(\S*)&roleId=(\S*)/.test(g.default.locationHref)?o=S.couponType.mfreecoupon:g.default.locationHref.includes("4PN6NLSX1vyp8xibC5sk7WZEFF5U")?o=S.couponType.secKillCoupon:g.default.locationHref.includes("m.jr.jd.com/member/rightsCenter/#/white")?o=S.couponType.ReceiveCoupons:g.default.locationHref.includes("m.jr.jd.com/consumer/baitiaom/index.html")?o=S.couponType.ReceiveCoupon:g.default.locationHref.includes("coupon.m.jd.com/center/getCouponCenter.action")?o=S.couponType.getCouponCenter:g.default.locationHref.includes("vip.m.jd.com/index.html?appName=fuli&id=")&&(o=S.couponType.exchange),g.default.locationHref.includes("bunearth.m.jd.com")&&(g.default.locationHref.includes("4PWgqmrFHunn8C38mJA712fufguU")?o=R.activityType.monsterNian:g.default.locationHref.includes("w6y8PYbzhgHJc8Lu1weihPReR2T")?o=R.activityType.brandCitySpring:g.default.locationHref.includes("21tFbS6Xm4tpon3oJnwzbnCJBo1Z")?o=R.activityType.receiveBless:g.default.locationHref.includes("4SJUHwGdUQYgg94PFzjZZbGZRjDd")&&(o=R.activityType.stall)),g.default.locationHref.includes("palace")&&(o=R.activityType.palace)):M=!1,o)),function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?d86d4ff3f6d089df2b41eb0735194c0d";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),Object.assign(window,{getLoginMsg:function(t){t.base.nickname&&(J.innerHTML="当前登录京东帐号："+t.base.nickname)},krapnik:function(){},Utils:h.default,Config:g.default})},{"./activitys/stall":1,"./config/config":2,"./cookie/CookieHandler":3,"./cookie/CookieManager":4,"./coupons/coinPurchase":5,"./coupons/exchange":6,"./coupons/gcConvert":7,"./coupons/getCouponCenter":8,"./coupons/mfreecoupon":9,"./coupons/newBabelAwardCollection":10,"./coupons/purchase":11,"./coupons/receiveCoupon":12,"./coupons/receiveCoupons":13,"./coupons/receiveDayCoupon":14,"./coupons/secKillCoupon":15,"./coupons/whtieCoupon":16,"./enum/activityType":17,"./enum/couponType":18,"./enum/goodsType":19,"./game/btgoose":20,"./game/cloudpig":21,"./game/signInCenter":22,"./goods/goods":23,"./utils/utils":26}],25:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var o=(c(l,null,[{key:"generateCallbackFunction",value:function(){return"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}},{key:"clearFunction",value:function(e){try{delete window[e]}catch(t){window[e]=void 0}}},{key:"removeScript",value:function(t){var e=document.getElementById(t);e&&document.getElementsByTagName("head")[0].removeChild(e)}},{key:"fetchJsonp",value:function(i,t){var a=1<arguments.length&&void 0!==t?t:{},u=i,s=a.timeout||l.defaultOptions.timeout,d=a.jsonpCallback||l.defaultOptions.jsonpCallback,c=void 0;return new Promise(function(e,t){var n=a.jsonpCallbackFunction||l.generateCallbackFunction(),o=d+"_"+n;window[n]=function(t){e({ok:!0,json:function(){return Promise.resolve(t)}}),c&&clearTimeout(c),l.removeScript(o),l.clearFunction(n)},u+=-1===u.indexOf("?")?"?":"&";var r=document.createElement("script");r.setAttribute("src",""+u+d+"="+n),a.charset&&r.setAttribute("charset",a.charset),r.id=o,document.getElementsByTagName("head")[0].appendChild(r),c=setTimeout(function(){t(new Error("JSONP request to "+i+" timed out")),l.clearFunction(n),l.removeScript(o),window[n]=function(){l.clearFunction(n)}},s),r.onerror=function(){t(new Error("JSONP request to "+i+" failed")),l.clearFunction(n),l.removeScript(o),c&&clearTimeout(c)}})}}]),l);function l(){p(this,l)}(n.default=o).defaultOptions={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null}},{}],26:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),window.jsonpBind=function(t){o.jsonpBind(JSON.stringify(t))};var o=(c(r,null,[{key:"formateDate",value:function(t){var e=new Date(+t),n=e.getHours(),o=e.getMinutes(),r=e.getSeconds(),i=e.getMilliseconds();return n<10&&(n="0"+n),o<10&&(o="0"+o),r<10&&(r="0"+r),i<10?i="00"+i:i<100&&10<=i&&(i="0"+i),n+""+o+r+i}},{key:"obtainLocal",value:function(t){return t.replace(/(?:(?:^|.*;\s*)3AB9D23F7A4B3C9B\s*=\s*([^;]*).*$)|^.*$/,"$1")}},{key:"getCookie",value:function(){return document.cookie}},{key:"formatDate",value:function(t){var e=new Date(+t),n=e.getFullYear(),o=e.getMonth()+1,r=e.getDate(),i=e.getHours(),a=e.getMinutes(),u=e.getSeconds(),s=e.getMilliseconds();return o<10&&(o="0"+o),r<10&&(r="0"+r),i<10&&(i="0"+i),a<10&&(a="0"+a),u<10&&(u="0"+u),s<10?s="00"+s:s<100&&10<=s&&(s="0"+s),n+""+o+r+i+a+u+s}},{key:"GetQueryString",value:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(e);if(!n){var o=window.location.hash;n=o.substr(o.indexOf("?")+1,o.length-o.indexOf("?")).match(e)}return null!=n?n[2]:""}},{key:"getSearchString",value:function(t,e){for(var n=(t=t.substring(1,t.length)).split("&"),o=new Object,r=0;r<n.length;r++){var i=n[r].split("=");o[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return o[e]}},{key:"getQueryStringByName",value:function(t){t=t.replace(/#.*/,"");var e=/\?[a-zA-Z0-9\=\&\%\$\-\_\.\+\!\*\'\(\)\,]+/.exec(t);return e?decodeURIComponent(e[0]):""}},{key:"formateTime",value:function(t){return Math.trunc(+t.replace(/\s+/gi,"").replace(/[:|：]+/gi,"").replace(/[-|——]+/gi,""))}},{key:"createJsonp",value:function(t,e){var n=1<arguments.length&&void 0!==e&&e,o=document.createElement("script");document.getElementsByTagName("head")[0].appendChild(o),n&&(t+="jsonpBind"),o.setAttribute("src",t),o.onload=function(){document.getElementsByTagName("head")[0].removeChild(o)}}},{key:"jsonpBind",value:function(t){postMessage(t,"*")}},{key:"outPutLog",value:function(t,e,n,o){var r=!(2<arguments.length&&void 0!==n)||n,i=3<arguments.length&&void 0!==o&&o;"none"==t.parentElement.style.display&&(t.parentElement.style.display="block"),r?t.value?t.value=t.value+"\n"+(new Date).toLocaleString()+"\n"+e:t.value=(new Date).toLocaleString()+e:t.value=t.value+"\n"+e,i&&(console.clear(),t.value=(new Date).toLocaleString()+e),console.log(e)}},{key:"random",value:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}},{key:"getTimestamp",value:function(){return(new Date).getTime()}},{key:"copyText",value:function(t){if(""!==t){var e=document.createElement("input");e.className="oInput",document.body.appendChild(e),e.value=t,e.select(),document.execCommand("Copy"),e.style.display="none",alert("内容已经复制到黏贴板啦"),document.body.removeChild(e)}else alert("好像没有需要复制的内容哦！")}},{key:"importFile",value:function(i){return new Promise(function(o,t){var r=document.createElement("input");r.className="fInput",r.type="file",document.body.appendChild(r),r.onchange=function(t){var e=t.target.files[0],n=new FileReader;e&&e.type.includes(i)?(n.readAsText(e),n.onabort=function(){document.body.removeChild(r)},n.onerror=function(){document.body.removeChild(r)},n.onload=function(){if(2==n.readyState){var t=n.result;o(t),document.body.removeChild(r)}}):alert("不支持的文件格式!")},r.click(),r.style.display="none"})}},{key:"loadiFrame",value:function(n){return new Promise(function(t){var e=document.createElement("iframe");document.body.appendChild(e),e.width="1",e.height="1",e.onload=function(){t(e)},e.src=n,e.style.display="none"})}},{key:"loadCss",value:function(t){var e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)}},{key:"stringify",value:function(e){var n=this;return Object.keys(e).map(function(t){return console.log(),t+"="+(n.isObject(e[t])?JSON.stringify(e[t]):encodeURIComponent(e[t]))}).join("&")}},{key:"isObject",value:function(t){var e=void 0===t?"undefined":i(t);return null!=t&&("object"==e||"function"==e)}},{key:"isNumber",value:function(t){return"number"==typeof t&&!isNaN(t)}},{key:"querySelector",value:function(t){return document.querySelector(t)}},{key:"request",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:{};return fetch("https://api.m.jd.com/client.action?functionId="+t,{body:"functionId="+t+"&body="+JSON.stringify(n)+"&client=wh5&clientVersion=1.0.0",headers:{"content-type":"application/x-www-form-urlencoded"},method:"POST",credentials:"include"}).then(function(t){return t.json()})}},{key:"sleep",value:function(e){return new Promise(function(t){setTimeout(t,e)})}}]),r);function r(){p(this,r)}n.default=o,n._$=o.querySelector},{}]},{},[24]);